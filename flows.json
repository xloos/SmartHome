[
    {
        "id": "ee2cc422.c24f08",
        "type": "tab",
        "label": "Broker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d4742671.796ed8",
        "type": "tab",
        "label": "Svetla_senzory",
        "disabled": false,
        "info": ""
    },
    {
        "id": "99f59708.7c3cc8",
        "type": "tab",
        "label": "Senzory_zabezpeceni",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9aff5cd6.f4336",
        "type": "tab",
        "label": "Kuchyne",
        "disabled": false,
        "info": ""
    },
    {
        "id": "fa27b8c7.a89288",
        "type": "tab",
        "label": "Obyvaci_pokoj",
        "disabled": false,
        "info": ""
    },
    {
        "id": "35ef67ac.997568",
        "type": "tab",
        "label": "Loznice",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1ff513c9.5d1d8c",
        "type": "tab",
        "label": "Koupelna",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7adfc18d.51ac",
        "type": "tab",
        "label": "Garaz",
        "disabled": false,
        "info": ""
    },
    {
        "id": "136fd60a.329e8a",
        "type": "tab",
        "label": "Vchod",
        "disabled": false,
        "info": ""
    },
    {
        "id": "41699c29.520954",
        "type": "tab",
        "label": "Venkovni_prostory",
        "disabled": false,
        "info": ""
    },
    {
        "id": "60f966e1.dc16a8",
        "type": "tab",
        "label": "Pohyb",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5a182d46.cf2834",
        "type": "tab",
        "label": "Dvere/okna_zabezpeceni",
        "disabled": false,
        "info": ""
    },
    {
        "id": "fbc42f80.e2b3e",
        "type": "tab",
        "label": "Kamery",
        "disabled": false,
        "info": ""
    },
    {
        "id": "52746a71.334bd4",
        "type": "tab",
        "label": "Kuchyna",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2791d2b9.11e1fe",
        "type": "tab",
        "label": "Obyvacia_izba",
        "disabled": false,
        "info": ""
    },
    {
        "id": "593f290a.5ddfb8",
        "type": "tab",
        "label": "Spalen",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d681427a.a92b4",
        "type": "tab",
        "label": "Kupelna",
        "disabled": false,
        "info": ""
    },
    {
        "id": "644c2903.eebd18",
        "type": "tab",
        "label": "Zahrada_1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f02050ba.d1e71",
        "type": "tab",
        "label": "Zahrada_2",
        "disabled": false,
        "info": ""
    },
    {
        "id": "30f5ccb2.518334",
        "type": "mqtt-broker",
        "name": "Broker1",
        "broker": "localhost",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "93e22d43.aaa6d",
        "type": "ui_tab",
        "name": "Svetla",
        "icon": "lightbulb_outline",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c364b0c5.3fe36",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#b6212d",
                "baseFont": "Verdana,Verdana,Geneva,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#b6212d",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#b6212d",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#dd4652",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#b6212d",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "Verdana,Verdana,Geneva,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "de2505cd.6c5ad8",
        "type": "ui_group",
        "name": "Osvetleni",
        "tab": "93e22d43.aaa6d",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "b7eecb1a.674ce8",
        "type": "ui_tab",
        "name": "Zabezpeceni",
        "icon": "security",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3b240061.460c8",
        "type": "ui_group",
        "name": "Zabezpeceni ",
        "tab": "b7eecb1a.674ce8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4da70d94.c48a04",
        "type": "ui_group",
        "name": "Zabezpeceni - pohyb",
        "tab": "b7eecb1a.674ce8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f83f7d8f.6fd29",
        "type": "mqtt-broker",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1880",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "c891614a.86f7c",
        "type": "mqtt-broker",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1880",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "7c944f98.84d3",
        "type": "mqtt-broker",
        "name": "camera",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "ec8fcb78.70f008",
        "type": "mqtt-broker",
        "name": "camera_in",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "d32dedd5.0954b",
        "type": "mqtt-broker",
        "name": "zabezpeceni",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "36f13728.d9e4d8",
        "type": "ui_group",
        "name": "Garaz",
        "tab": "7ff4867a.9b6a08",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "7ff4867a.9b6a08",
        "type": "ui_tab",
        "name": "Garaz",
        "icon": "directions_car",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "44718856.b9bcc8",
        "type": "mqtt-broker",
        "name": "Broker",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "5d8fa7df.acf9d8",
        "type": "ui_tab",
        "name": "Obyvak",
        "icon": "people",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a6f0b78d.fcd098",
        "type": "ui_group",
        "name": "Window",
        "tab": "5d8fa7df.acf9d8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "a1f4275a.077578",
        "type": "ui_group",
        "name": "Window",
        "tab": "7f07accb.75be34",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "72b45707.294b78",
        "type": "ui_group",
        "name": "Heating",
        "tab": "7f07accb.75be34",
        "order": 3,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "7f07accb.75be34",
        "type": "ui_tab",
        "name": "Kuchyne",
        "icon": "restaurant_menu",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "16c9ec76.306fb4",
        "type": "ui_group",
        "name": "Heating",
        "tab": "5d8fa7df.acf9d8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7859ac3.8d04b54",
        "type": "ui_tab",
        "name": "Ložnice",
        "icon": "local_hotel",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "366bb639.ed961a",
        "type": "ui_group",
        "name": "Heating",
        "tab": "7859ac3.8d04b54",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d840431c.ccd0b",
        "type": "ui_group",
        "name": "Window",
        "tab": "7859ac3.8d04b54",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5c94f514.2910bc",
        "type": "ui_tab",
        "name": "Koupelna",
        "icon": "hot_tub",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "392476b1.08707a",
        "type": "ui_group",
        "name": "Window",
        "tab": "5c94f514.2910bc",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f992db80.3965e8",
        "type": "ui_group",
        "name": "Heating",
        "tab": "5c94f514.2910bc",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fd80d892.5a8c58",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "86433083.8f9b6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "571bee5a.595b2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 6,
        "width": 4,
        "height": 1
    },
    {
        "id": "27247a7.5371386",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "db31931c.d4ef1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "89f6e0a1.e0ba3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "36f13728.d9e4d8",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "970ae07b.6d77a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "3b240061.460c8",
        "order": 15,
        "width": 6,
        "height": 1
    },
    {
        "id": "89c4a8f5.4e1b58",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "3b240061.460c8",
        "order": 17,
        "width": 2,
        "height": 1
    },
    {
        "id": "87fdd132.df302",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "3b240061.460c8",
        "order": 19,
        "width": 2,
        "height": 1
    },
    {
        "id": "60de9cde.6ee5a4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "3b240061.460c8",
        "order": 20,
        "width": 2,
        "height": 1
    },
    {
        "id": "b69c80a3.c8e1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "3b240061.460c8",
        "order": 21,
        "width": 2,
        "height": 1
    },
    {
        "id": "173ebeb6.a67441",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6665e7d.5dbdd",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "36d731f0.5cc45e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6665e7d.5dbdd",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "a3acc504.e70878",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6665e7d.5dbdd",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "88dcae3b.c543d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6665e7d.5dbdd",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "52e188f3.d10b18",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6665e7d.5dbdd",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "cf4a0105.0e80a",
        "type": "ui_tab",
        "name": "Bazén",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4a75fe71.2c326",
        "type": "ui_group",
        "name": "teplota",
        "tab": "cf4a0105.0e80a",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12508d2f.cc1113",
        "type": "ui_tab",
        "name": "Skleník",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4e0d782d.024148",
        "type": "ui_group",
        "name": "vetrani",
        "tab": "12508d2f.cc1113",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ad51e5f3.451568",
        "type": "aedes broker",
        "z": "ee2cc422.c24f08",
        "name": "Broker",
        "mqtt_port": "1884",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 130,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "6c8e5bf6.892624",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_kuchyne",
        "topic": "home/kuchyne/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 800,
        "y": 380,
        "wires": []
    },
    {
        "id": "f59c55d8.a68a88",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 340,
        "wires": [
            [
                "6c8e5bf6.892624"
            ]
        ]
    },
    {
        "id": "13780423.a54d9c",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu v kuchyni",
        "info": "",
        "x": 460,
        "y": 260,
        "wires": []
    },
    {
        "id": "b36a290e.e380e8",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 450,
        "y": 400,
        "wires": [
            [
                "6c8e5bf6.892624"
            ]
        ]
    },
    {
        "id": "7369b9a8.3a4688",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla v kuchyni",
        "info": "",
        "x": 490,
        "y": 60,
        "wires": []
    },
    {
        "id": "a46fcce3.e8e0b",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_kuchyne",
        "topic": "home/kuchyne/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 910,
        "y": 140,
        "wires": []
    },
    {
        "id": "f8bb19f.e3679e8",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 10;\nvar vysl = 300;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 140,
        "wires": [
            [
                "a46fcce3.e8e0b"
            ]
        ]
    },
    {
        "id": "e40b872b.c6ace8",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 450,
        "y": 140,
        "wires": [
            [
                "f8bb19f.e3679e8"
            ]
        ]
    },
    {
        "id": "5ba82f8d.cad1c",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_obyvak",
        "topic": "home/obyvak/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 800,
        "y": 800,
        "wires": []
    },
    {
        "id": "b9d98cc5.a50d5",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 760,
        "wires": [
            [
                "5ba82f8d.cad1c"
            ]
        ]
    },
    {
        "id": "1a597bf1.36f9d4",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu v obyvacim pokoji",
        "info": "",
        "x": 480,
        "y": 680,
        "wires": []
    },
    {
        "id": "714cafa6.26c5f",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 450,
        "y": 820,
        "wires": [
            [
                "5ba82f8d.cad1c"
            ]
        ]
    },
    {
        "id": "921c3b89.202158",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla v obyvacim pokoji",
        "info": "",
        "x": 520,
        "y": 500,
        "wires": []
    },
    {
        "id": "a58c003.a8565",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_obyvak",
        "topic": "home/obyvak/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 910,
        "y": 600,
        "wires": []
    },
    {
        "id": "b75acc5e.859d1",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 15;\nvar vysl = 300;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 600,
        "wires": [
            [
                "a58c003.a8565"
            ]
        ]
    },
    {
        "id": "30639b1b.933034",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 450,
        "y": 600,
        "wires": [
            [
                "b75acc5e.859d1"
            ]
        ]
    },
    {
        "id": "cbc7364.47d16c8",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_loznice",
        "topic": "home/loznice/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 800,
        "y": 1240,
        "wires": []
    },
    {
        "id": "419a3e70.eb651",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 440,
        "y": 1200,
        "wires": [
            [
                "cbc7364.47d16c8"
            ]
        ]
    },
    {
        "id": "caccf110.0a684",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu v loznici",
        "info": "",
        "x": 460,
        "y": 1120,
        "wires": []
    },
    {
        "id": "b2860873.ee7f18",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 1260,
        "wires": [
            [
                "cbc7364.47d16c8"
            ]
        ]
    },
    {
        "id": "f662011c.5b26d",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla v loznici",
        "info": "",
        "x": 490,
        "y": 940,
        "wires": []
    },
    {
        "id": "b48865e1.241518",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_loznice",
        "topic": "home/loznice/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 920,
        "y": 1040,
        "wires": []
    },
    {
        "id": "b392a94.9ba5358",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 15;\nvar vysl = 250;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 1040,
        "wires": [
            [
                "b48865e1.241518"
            ]
        ]
    },
    {
        "id": "9ed9fe43.3303d",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 440,
        "y": 1040,
        "wires": [
            [
                "b392a94.9ba5358"
            ]
        ]
    },
    {
        "id": "cf144cdc.f7a69",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_koupelna",
        "topic": "home/koupelna/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 790,
        "y": 1640,
        "wires": []
    },
    {
        "id": "65ac1543.228aac",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 440,
        "y": 1620,
        "wires": [
            [
                "cf144cdc.f7a69"
            ]
        ]
    },
    {
        "id": "feeefea8.aef5e",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu v koupelne",
        "info": "",
        "x": 470,
        "y": 1540,
        "wires": []
    },
    {
        "id": "59418d84.ad1654",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 1680,
        "wires": [
            [
                "cf144cdc.f7a69"
            ]
        ]
    },
    {
        "id": "658cf384.e219dc",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla v koupelne",
        "info": "",
        "x": 500,
        "y": 1360,
        "wires": []
    },
    {
        "id": "85ed9972.bc0478",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_koupelna",
        "topic": "home/koupelna/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 920,
        "y": 1460,
        "wires": []
    },
    {
        "id": "c8caba51.8e76a8",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 5;\nvar vysl = 150;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 1460,
        "wires": [
            [
                "85ed9972.bc0478"
            ]
        ]
    },
    {
        "id": "a000abda.af5c08",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 440,
        "y": 1460,
        "wires": [
            [
                "c8caba51.8e76a8"
            ]
        ]
    },
    {
        "id": "cfdd3e9c.d1e38",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_garaz",
        "topic": "home/garaz/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 770,
        "y": 2100,
        "wires": []
    },
    {
        "id": "b1ea7f6c.7fdf1",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 420,
        "y": 2060,
        "wires": [
            [
                "cfdd3e9c.d1e38"
            ]
        ]
    },
    {
        "id": "55804458.18f4dc",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu v garazi",
        "info": "",
        "x": 440,
        "y": 1980,
        "wires": []
    },
    {
        "id": "62e9d90d.a43648",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 420,
        "y": 2120,
        "wires": [
            [
                "cfdd3e9c.d1e38"
            ]
        ]
    },
    {
        "id": "5da92ad6.23af14",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla v garazi",
        "info": "",
        "x": 470,
        "y": 1800,
        "wires": []
    },
    {
        "id": "4c53eee6.d9b12",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_garaz",
        "topic": "home/garaz/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 890,
        "y": 1900,
        "wires": []
    },
    {
        "id": "7edde8de.cf6a18",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 10;\nvar vysl = 50;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 1900,
        "wires": [
            [
                "4c53eee6.d9b12"
            ]
        ]
    },
    {
        "id": "50019cc5.cf05a4",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 420,
        "y": 1900,
        "wires": [
            [
                "7edde8de.cf6a18"
            ]
        ]
    },
    {
        "id": "ab40f9cc.860e68",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_vchod",
        "topic": "home/vchod/pohyb",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 780,
        "y": 2520,
        "wires": []
    },
    {
        "id": "73df1a19.aacf44",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 420,
        "y": 2480,
        "wires": [
            [
                "ab40f9cc.860e68"
            ]
        ]
    },
    {
        "id": "39f1fdc3.a2f282",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu ve vchode",
        "info": "",
        "x": 450,
        "y": 2400,
        "wires": []
    },
    {
        "id": "15fd68c0.915787",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 420,
        "y": 2540,
        "wires": [
            [
                "ab40f9cc.860e68"
            ]
        ]
    },
    {
        "id": "cca369c1.933208",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla ve vchode",
        "info": "",
        "x": 470,
        "y": 2220,
        "wires": []
    },
    {
        "id": "89dcf8a1.7b4d88",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_vchod",
        "topic": "home/vchod/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 890,
        "y": 2320,
        "wires": []
    },
    {
        "id": "716eac68.b0d074",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 5;\nvar vysl = 50;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 2320,
        "wires": [
            [
                "89dcf8a1.7b4d88"
            ]
        ]
    },
    {
        "id": "9e0194cd.c976e8",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 420,
        "y": 2320,
        "wires": [
            [
                "716eac68.b0d074"
            ]
        ]
    },
    {
        "id": "e244b026.48538",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Pohyb_venek",
        "topic": "home/venek/pohyb",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 780,
        "y": 2940,
        "wires": []
    },
    {
        "id": "40ca7c56.e907a4",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 420,
        "y": 2900,
        "wires": [
            [
                "e244b026.48538"
            ]
        ]
    },
    {
        "id": "9d67be80.34def",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor pohybu venku",
        "info": "",
        "x": 440,
        "y": 2820,
        "wires": []
    },
    {
        "id": "7dab2740.8f6c08",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "Pohyb_false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 420,
        "y": 2960,
        "wires": [
            [
                "e244b026.48538"
            ]
        ]
    },
    {
        "id": "8fe1f4de.ca5938",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Senzor intenzity svetla venku",
        "info": "",
        "x": 460,
        "y": 2640,
        "wires": []
    },
    {
        "id": "ece0a43d.673c98",
        "type": "mqtt out",
        "z": "d4742671.796ed8",
        "name": "Intenzita_venek",
        "topic": "home/venek/intenzita",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 890,
        "y": 2740,
        "wires": []
    },
    {
        "id": "2d9b0c4.aec97f4",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var hod = global.get(\"zarovka\");\nvar rozmer = 20;\nvar vysl = 100;\nvar poc = 0;\nvar kon = 0;\nif(hod == 3){\n    poc=(205*4)/rozmer;\n    kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}else if(hod == 5){\n    poc=(425*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 9){\n    poc=(720*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n    \n}else if(hod == 15){\n    poc=(1400*4)/rozmer;\n        kon = (100*300)/poc;\n    if(kon > 100){\n        msg.payload=100;\n    }else{\n        msg.payload=kon.toFixed(2);\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 2740,
        "wires": [
            [
                "ece0a43d.673c98"
            ]
        ]
    },
    {
        "id": "d07bb27c.b5278",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 420,
        "y": 2740,
        "wires": [
            [
                "2d9b0c4.aec97f4"
            ]
        ]
    },
    {
        "id": "243ff36e.01d10c",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 1310,
        "y": 100,
        "wires": [
            [
                "442171be.acd03"
            ]
        ]
    },
    {
        "id": "9eef196f.c7bb98",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 1310,
        "y": 160,
        "wires": [
            [
                "442171be.acd03"
            ]
        ]
    },
    {
        "id": "c11f9ad0.0addb8",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "9",
        "payloadType": "num",
        "x": 1310,
        "y": 220,
        "wires": [
            [
                "442171be.acd03"
            ]
        ]
    },
    {
        "id": "cb949265.71203",
        "type": "inject",
        "z": "d4742671.796ed8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "15",
        "payloadType": "num",
        "x": 1310,
        "y": 280,
        "wires": [
            [
                "442171be.acd03"
            ]
        ]
    },
    {
        "id": "85aaf030.47975",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Vyber zarovek",
        "info": "",
        "x": 1360,
        "y": 40,
        "wires": []
    },
    {
        "id": "442171be.acd03",
        "type": "change",
        "z": "d4742671.796ed8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "zarovka",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "3705419f.82cf8e",
        "type": "mqtt in",
        "z": "d4742671.796ed8",
        "name": "",
        "topic": "home/+/svetla/hodnota",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 1310,
        "y": 480,
        "wires": [
            [
                "b05e4ea0.070d6"
            ]
        ]
    },
    {
        "id": "b05e4ea0.070d6",
        "type": "function",
        "z": "d4742671.796ed8",
        "name": "",
        "func": "var a = msg.payload;\nvar glb = global.get(\"zarovka\") || 0;\nvar flw = flow.get(\"hodnota\") || 0;\nmsg.payload = flw;\nif(a == \"Zapnuta\"){\n    flow.set(\"hodnota\",(flw + glb));\n}else if (a == \"Vypnuta\"){\n    if((flw - glb) <= 0){\n    flow.set(\"hodnota\",0);\n    }else{\n    flow.set(\"hodnota\",(flw - glb));\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1530,
        "y": 480,
        "wires": [
            [
                "402aed9a.83a9c4"
            ]
        ]
    },
    {
        "id": "402aed9a.83a9c4",
        "type": "change",
        "z": "d4742671.796ed8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hodnota",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1720,
        "y": 480,
        "wires": [
            [
                "aed0ade5.801d4"
            ]
        ]
    },
    {
        "id": "aed0ade5.801d4",
        "type": "ui_gauge",
        "z": "d4742671.796ed8",
        "name": "",
        "group": "de2505cd.6c5ad8",
        "order": 28,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Spotreba - osvetleni",
        "label": "W",
        "format": "{{value}}",
        "min": 0,
        "max": "105",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1940,
        "y": 480,
        "wires": []
    },
    {
        "id": "fd5ee523.fbbf78",
        "type": "comment",
        "z": "d4742671.796ed8",
        "name": "Obsluha gauge",
        "info": "",
        "x": 1340,
        "y": 400,
        "wires": []
    },
    {
        "id": "5590fe46.d200c",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Predni_dvere",
        "topic": "home/dvere/predni",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 770,
        "y": 480,
        "wires": []
    },
    {
        "id": "b03b0750.69b608",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odemknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 400,
        "wires": [
            [
                "5590fe46.d200c"
            ]
        ]
    },
    {
        "id": "af82a094.a2d45",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Zamknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 500,
        "wires": [
            [
                "5590fe46.d200c"
            ]
        ]
    },
    {
        "id": "9b29a309.84ecd",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Zamcit_vse",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 450,
        "y": 220,
        "wires": [
            [
                "1544b644.ca1a9a",
                "907d28a8.0ceca8"
            ]
        ]
    },
    {
        "id": "1544b644.ca1a9a",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "",
        "topic": "home/dvere",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 790,
        "y": 240,
        "wires": []
    },
    {
        "id": "bde27e67.6075b",
        "type": "ui_template",
        "z": "99f59708.7c3cc8",
        "group": "3b240061.460c8",
        "name": "Lock_vse",
        "order": 2,
        "width": 3,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:red\"\n    ng-click=\"send({payload: 'lock', topic: 'zd'})\"> \n    Zamcit vse\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 580,
        "y": 260,
        "wires": [
            [
                "1544b644.ca1a9a",
                "907d28a8.0ceca8"
            ]
        ]
    },
    {
        "id": "a5a3461a.661138",
        "type": "ui_template",
        "z": "99f59708.7c3cc8",
        "group": "3b240061.460c8",
        "name": "Unlock_vse",
        "order": 1,
        "width": 3,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'unlock', topic: 'zd'})\"> \n    Odemcit vse\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 590,
        "y": 160,
        "wires": [
            [
                "1544b644.ca1a9a",
                "907d28a8.0ceca8"
            ]
        ]
    },
    {
        "id": "f10077d2.9186c8",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Zadni_dvere",
        "topic": "home/dvere/zadni",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 770,
        "y": 720,
        "wires": []
    },
    {
        "id": "a1fa25eb.108268",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odemknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 640,
        "wires": [
            [
                "f10077d2.9186c8"
            ]
        ]
    },
    {
        "id": "6249d866.04fa38",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Zamknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 740,
        "wires": [
            [
                "f10077d2.9186c8"
            ]
        ]
    },
    {
        "id": "907d28a8.0ceca8",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "",
        "topic": "home/okna",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 790,
        "y": 180,
        "wires": []
    },
    {
        "id": "62ae8521.d16b2c",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Okna",
        "topic": "home/okna",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 750,
        "y": 1240,
        "wires": []
    },
    {
        "id": "3c61419e.28c98e",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odemknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 1160,
        "wires": [
            [
                "62ae8521.d16b2c"
            ]
        ]
    },
    {
        "id": "e15aef7f.48ae6",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Zamknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 1260,
        "wires": [
            [
                "62ae8521.d16b2c"
            ]
        ]
    },
    {
        "id": "168f5d98.52ac42",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Zamčení/odemčení celého domu",
        "info": "",
        "x": 510,
        "y": 80,
        "wires": []
    },
    {
        "id": "f02eba10.06b758",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Zamčení/odemčení předních dvěří",
        "info": "",
        "x": 520,
        "y": 340,
        "wires": []
    },
    {
        "id": "78c89d27.4bc6a4",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Zamčení/odemčení zadních dveří",
        "info": "",
        "x": 510,
        "y": 580,
        "wires": []
    },
    {
        "id": "31f4aa87.a66bb6",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Zamčení/odemčení oken",
        "info": "",
        "x": 470,
        "y": 1100,
        "wires": []
    },
    {
        "id": "f457d3e2.20537",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Prichod_osoba1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 440,
        "y": 1740,
        "wires": [
            [
                "f4e54f36.55952",
                "4a1fc6b6.c51dc8"
            ]
        ]
    },
    {
        "id": "80cf9e93.77ff6",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Příchod/odchod osoby1",
        "info": "",
        "x": 440,
        "y": 1660,
        "wires": []
    },
    {
        "id": "9f43f1d8.17c9a",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odchod_osoba1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 1840,
        "wires": [
            [
                "f4e54f36.55952",
                "4a1fc6b6.c51dc8"
            ]
        ]
    },
    {
        "id": "f4e54f36.55952",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Osoba1",
        "topic": "home/uzivatel/1",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 730,
        "y": 1780,
        "wires": []
    },
    {
        "id": "b62abd89.612cb",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Prichod_osoba2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 440,
        "y": 2040,
        "wires": [
            [
                "f36c9d93.24101",
                "e274cd5b.5bd76"
            ]
        ]
    },
    {
        "id": "86606f89.d9188",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Příchod/odchod osoby2",
        "info": "",
        "x": 440,
        "y": 1960,
        "wires": []
    },
    {
        "id": "bc875119.deaee",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odchod_osoba2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 2140,
        "wires": [
            [
                "f36c9d93.24101",
                "e274cd5b.5bd76"
            ]
        ]
    },
    {
        "id": "f36c9d93.24101",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Osoba2",
        "topic": "home/uzivatel/2",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 730,
        "y": 2080,
        "wires": []
    },
    {
        "id": "e274cd5b.5bd76",
        "type": "change",
        "z": "99f59708.7c3cc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "osb2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "4a1fc6b6.c51dc8",
        "type": "change",
        "z": "99f59708.7c3cc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "osb1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "6d485057.86691",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Garaz_dvere",
        "topic": "home/dvere/garaz",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 770,
        "y": 980,
        "wires": []
    },
    {
        "id": "6229c007.3d71a",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Odemknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 450,
        "y": 900,
        "wires": [
            [
                "6d485057.86691"
            ]
        ]
    },
    {
        "id": "772f84f1.24f68c",
        "type": "inject",
        "z": "99f59708.7c3cc8",
        "name": "Zamknout",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 440,
        "y": 1000,
        "wires": [
            [
                "6d485057.86691"
            ]
        ]
    },
    {
        "id": "2f94ba75.f65376",
        "type": "comment",
        "z": "99f59708.7c3cc8",
        "name": "Zamčení/odemčení dveří z garáže",
        "info": "",
        "x": 480,
        "y": 840,
        "wires": []
    },
    {
        "id": "a26b7bb1.86c168",
        "type": "mqtt in",
        "z": "99f59708.7c3cc8",
        "name": "Security",
        "topic": "home/zabezpeceni",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 420,
        "y": 1420,
        "wires": [
            [
                "4279ec8.a867614"
            ]
        ]
    },
    {
        "id": "4279ec8.a867614",
        "type": "mqtt out",
        "z": "99f59708.7c3cc8",
        "name": "Garaz_vrata",
        "topic": "home/dvere/vrata",
        "qos": "2",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 770,
        "y": 1420,
        "wires": []
    },
    {
        "id": "51e511d5.93f7c",
        "type": "mqtt in",
        "z": "9aff5cd6.f4336",
        "name": "Pohyb_kuchyne",
        "topic": "home/kuchyne/+",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 200,
        "y": 340,
        "wires": [
            [
                "de13d955.b135c8"
            ]
        ]
    },
    {
        "id": "f780ce8f.23e2",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 260,
        "wires": [
            [
                "8648f384.6fdad"
            ]
        ]
    },
    {
        "id": "7f1a5fb3.808d6",
        "type": "function",
        "z": "9aff5cd6.f4336",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n        msg.topic=\"noc\";\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 300,
        "wires": [
            [
                "6965e7c4.94ff68",
                "4f964d5c.6ab734",
                "b8997ec0.03b96"
            ]
        ]
    },
    {
        "id": "6965e7c4.94ff68",
        "type": "switch",
        "z": "9aff5cd6.f4336",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 300,
        "wires": [
            [
                "f780ce8f.23e2"
            ],
            [
                "c81ca0a8.5e488"
            ]
        ]
    },
    {
        "id": "c81ca0a8.5e488",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 320,
        "wires": [
            [
                "933a18a6.cb9d68"
            ]
        ]
    },
    {
        "id": "202dece4.912324",
        "type": "join",
        "z": "9aff5cd6.f4336",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "4e38211b.0d253"
            ]
        ]
    },
    {
        "id": "465de0cf.f61d7",
        "type": "debug",
        "z": "9aff5cd6.f4336",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 280,
        "wires": []
    },
    {
        "id": "8648f384.6fdad",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 260,
        "wires": [
            [
                "202dece4.912324",
                "840ebc27.7a8e9"
            ]
        ]
    },
    {
        "id": "933a18a6.cb9d68",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 320,
        "wires": [
            [
                "202dece4.912324",
                "840ebc27.7a8e9"
            ]
        ]
    },
    {
        "id": "4e38211b.0d253",
        "type": "function",
        "z": "9aff5cd6.f4336",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 280,
        "wires": [
            [
                "465de0cf.f61d7"
            ]
        ]
    },
    {
        "id": "efd168a4.464168",
        "type": "ui_template",
        "z": "9aff5cd6.f4336",
        "group": "de2505cd.6c5ad8",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 100,
        "wires": [
            [
                "f5002606.29a898",
                "7f1a5fb3.808d6",
                "385b2ec6.6a73d2"
            ]
        ]
    },
    {
        "id": "fd3778f3.fdded8",
        "type": "ui_template",
        "z": "9aff5cd6.f4336",
        "group": "de2505cd.6c5ad8",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 160,
        "wires": [
            [
                "f5002606.29a898",
                "385b2ec6.6a73d2"
            ]
        ]
    },
    {
        "id": "24142534.a0665a",
        "type": "ui_template",
        "z": "9aff5cd6.f4336",
        "group": "de2505cd.6c5ad8",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "f5002606.29a898",
                "7f1a5fb3.808d6",
                "385b2ec6.6a73d2"
            ]
        ]
    },
    {
        "id": "f5002606.29a898",
        "type": "ui_led",
        "z": "9aff5cd6.f4336",
        "order": 6,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Kuchyne",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 510,
        "y": 80,
        "wires": []
    },
    {
        "id": "de13d955.b135c8",
        "type": "switch",
        "z": "9aff5cd6.f4336",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/kuchyne/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/kuchyne/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 420,
        "wires": [
            [
                "7f1a5fb3.808d6"
            ],
            [
                "22e9a52a.39615a"
            ]
        ]
    },
    {
        "id": "22e9a52a.39615a",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 380,
        "wires": [
            [
                "202dece4.912324"
            ]
        ]
    },
    {
        "id": "385b2ec6.6a73d2",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4f964d5c.6ab734",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Kuchyne",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 200,
        "wires": [
            [
                "826110c1.c3877"
            ]
        ]
    },
    {
        "id": "826110c1.c3877",
        "type": "change",
        "z": "9aff5cd6.f4336",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 200,
        "wires": [
            [
                "202dece4.912324"
            ]
        ]
    },
    {
        "id": "b8997ec0.03b96",
        "type": "switch",
        "z": "9aff5cd6.f4336",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 940,
        "y": 140,
        "wires": [
            [
                "142eaf4c.94e241"
            ]
        ]
    },
    {
        "id": "142eaf4c.94e241",
        "type": "mqtt out",
        "z": "9aff5cd6.f4336",
        "name": "",
        "topic": "home/kuchyne/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1190,
        "y": 120,
        "wires": []
    },
    {
        "id": "997a7ce0.fcaa",
        "type": "mqtt out",
        "z": "9aff5cd6.f4336",
        "name": "",
        "topic": "home/kuchyne/svetla/hodnota",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1690,
        "y": 220,
        "wires": []
    },
    {
        "id": "840ebc27.7a8e9",
        "type": "rbe",
        "z": "9aff5cd6.f4336",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1440,
        "y": 220,
        "wires": [
            [
                "997a7ce0.fcaa"
            ]
        ]
    },
    {
        "id": "95e97857.97ec48",
        "type": "mqtt in",
        "z": "fa27b8c7.a89288",
        "name": "Pohyb_obyvak",
        "topic": "home/obyvak/+",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 220,
        "y": 400,
        "wires": [
            [
                "a26eb0a3.b8708"
            ]
        ]
    },
    {
        "id": "cbcdc14e.c4c7b",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "e351d306.af433"
            ]
        ]
    },
    {
        "id": "5849c00d.8262a",
        "type": "function",
        "z": "fa27b8c7.a89288",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 800,
        "y": 360,
        "wires": [
            [
                "5206c983.b2fb58",
                "f5670f18.43de5",
                "54b3c16d.3c8cb"
            ]
        ]
    },
    {
        "id": "5206c983.b2fb58",
        "type": "switch",
        "z": "fa27b8c7.a89288",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 360,
        "wires": [
            [
                "cbcdc14e.c4c7b"
            ],
            [
                "c7486d9a.4779d"
            ]
        ]
    },
    {
        "id": "c7486d9a.4779d",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 380,
        "wires": [
            [
                "72255e2d.30476"
            ]
        ]
    },
    {
        "id": "e73d20e5.005fb",
        "type": "join",
        "z": "fa27b8c7.a89288",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1470,
        "y": 340,
        "wires": [
            [
                "5d2e7199.5839b"
            ]
        ]
    },
    {
        "id": "8725894f.1a82d8",
        "type": "debug",
        "z": "fa27b8c7.a89288",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1830,
        "y": 340,
        "wires": []
    },
    {
        "id": "e351d306.af433",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 320,
        "wires": [
            [
                "e73d20e5.005fb",
                "cfe7a57a.949758"
            ]
        ]
    },
    {
        "id": "72255e2d.30476",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 380,
        "wires": [
            [
                "e73d20e5.005fb",
                "cfe7a57a.949758"
            ]
        ]
    },
    {
        "id": "5d2e7199.5839b",
        "type": "function",
        "z": "fa27b8c7.a89288",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1630,
        "y": 340,
        "wires": [
            [
                "8725894f.1a82d8"
            ]
        ]
    },
    {
        "id": "c4fefdd8.268ce",
        "type": "ui_template",
        "z": "fa27b8c7.a89288",
        "group": "de2505cd.6c5ad8",
        "name": "Obyvak_template_1",
        "order": 7,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 160,
        "wires": [
            [
                "be7bad9e.1bb01",
                "5849c00d.8262a",
                "a5cb8a68.23c788"
            ]
        ]
    },
    {
        "id": "3d2e8b4a.bf6924",
        "type": "ui_template",
        "z": "fa27b8c7.a89288",
        "group": "de2505cd.6c5ad8",
        "name": "Obyvak_template_2",
        "order": 8,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "be7bad9e.1bb01",
                "a5cb8a68.23c788"
            ]
        ]
    },
    {
        "id": "4db80b69.824a14",
        "type": "ui_template",
        "z": "fa27b8c7.a89288",
        "group": "de2505cd.6c5ad8",
        "name": "Obyvak_template_3",
        "order": 9,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 280,
        "wires": [
            [
                "be7bad9e.1bb01",
                "5849c00d.8262a",
                "a5cb8a68.23c788"
            ]
        ]
    },
    {
        "id": "be7bad9e.1bb01",
        "type": "ui_led",
        "z": "fa27b8c7.a89288",
        "order": 10,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Obyvak",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Obyvak_led",
        "x": 530,
        "y": 140,
        "wires": []
    },
    {
        "id": "a26eb0a3.b8708",
        "type": "switch",
        "z": "fa27b8c7.a89288",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/obyvak/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/obyvak/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 480,
        "wires": [
            [
                "5849c00d.8262a"
            ],
            [
                "3441b851.7514d8"
            ]
        ]
    },
    {
        "id": "3441b851.7514d8",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 440,
        "wires": [
            [
                "e73d20e5.005fb"
            ]
        ]
    },
    {
        "id": "a5cb8a68.23c788",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f5670f18.43de5",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Obyvak",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 260,
        "wires": [
            [
                "7fc99776.ecbfb8"
            ]
        ]
    },
    {
        "id": "7fc99776.ecbfb8",
        "type": "change",
        "z": "fa27b8c7.a89288",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "e73d20e5.005fb"
            ]
        ]
    },
    {
        "id": "54b3c16d.3c8cb",
        "type": "switch",
        "z": "fa27b8c7.a89288",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 180,
        "wires": [
            [
                "97e36ea6.51bd2"
            ]
        ]
    },
    {
        "id": "97e36ea6.51bd2",
        "type": "mqtt out",
        "z": "fa27b8c7.a89288",
        "name": "",
        "topic": "home/obyvak/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1200,
        "y": 160,
        "wires": []
    },
    {
        "id": "65d25bf3.a72914",
        "type": "mqtt out",
        "z": "fa27b8c7.a89288",
        "name": "",
        "topic": "home/obyvak/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1680,
        "y": 280,
        "wires": []
    },
    {
        "id": "cfe7a57a.949758",
        "type": "rbe",
        "z": "fa27b8c7.a89288",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "65d25bf3.a72914"
            ]
        ]
    },
    {
        "id": "54a5eb6c.e26bf4",
        "type": "mqtt in",
        "z": "35ef67ac.997568",
        "name": "Pohyb_loznice",
        "topic": "home/loznice/+",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 240,
        "y": 420,
        "wires": [
            [
                "6bc97f48.7a02c"
            ]
        ]
    },
    {
        "id": "ef98b581.4780e8",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 340,
        "wires": [
            [
                "f7a90454.863608"
            ]
        ]
    },
    {
        "id": "593c03c4.a8c50c",
        "type": "function",
        "z": "35ef67ac.997568",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 820,
        "y": 380,
        "wires": [
            [
                "7862163.3e129e8",
                "6058ce64.20942",
                "617ca2b5.e0296c"
            ]
        ]
    },
    {
        "id": "7862163.3e129e8",
        "type": "switch",
        "z": "35ef67ac.997568",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 380,
        "wires": [
            [
                "ef98b581.4780e8"
            ],
            [
                "9645fb92.69a6d8"
            ]
        ]
    },
    {
        "id": "9645fb92.69a6d8",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "714c962d.36bdf8"
            ]
        ]
    },
    {
        "id": "4d2621b2.40594",
        "type": "join",
        "z": "35ef67ac.997568",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1490,
        "y": 360,
        "wires": [
            [
                "c378ac8b.77828"
            ]
        ]
    },
    {
        "id": "90b1a487.0b7388",
        "type": "debug",
        "z": "35ef67ac.997568",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 360,
        "wires": []
    },
    {
        "id": "f7a90454.863608",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 340,
        "wires": [
            [
                "4d2621b2.40594",
                "46a5791a.f17568"
            ]
        ]
    },
    {
        "id": "714c962d.36bdf8",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 400,
        "wires": [
            [
                "4d2621b2.40594",
                "46a5791a.f17568"
            ]
        ]
    },
    {
        "id": "c378ac8b.77828",
        "type": "function",
        "z": "35ef67ac.997568",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1650,
        "y": 360,
        "wires": [
            [
                "90b1a487.0b7388"
            ]
        ]
    },
    {
        "id": "7ac5ad92.68d684",
        "type": "ui_template",
        "z": "35ef67ac.997568",
        "group": "de2505cd.6c5ad8",
        "name": "Loznice_template_1",
        "order": 11,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 180,
        "wires": [
            [
                "dd1305bb.a88de8",
                "593c03c4.a8c50c",
                "12347346.b6688d"
            ]
        ]
    },
    {
        "id": "15f92d59.72e7d3",
        "type": "ui_template",
        "z": "35ef67ac.997568",
        "group": "de2505cd.6c5ad8",
        "name": "Loznice_template_2",
        "order": 12,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "dd1305bb.a88de8",
                "12347346.b6688d"
            ]
        ]
    },
    {
        "id": "1528f8f5.137647",
        "type": "ui_template",
        "z": "35ef67ac.997568",
        "group": "de2505cd.6c5ad8",
        "name": "Loznice_template_3",
        "order": 13,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 300,
        "wires": [
            [
                "dd1305bb.a88de8",
                "593c03c4.a8c50c",
                "12347346.b6688d"
            ]
        ]
    },
    {
        "id": "dd1305bb.a88de8",
        "type": "ui_led",
        "z": "35ef67ac.997568",
        "order": 14,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Loznice",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Loznice_led",
        "x": 550,
        "y": 160,
        "wires": []
    },
    {
        "id": "6bc97f48.7a02c",
        "type": "switch",
        "z": "35ef67ac.997568",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/loznice/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/loznice/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 500,
        "wires": [
            [
                "593c03c4.a8c50c"
            ],
            [
                "db191adb.ab5d88"
            ]
        ]
    },
    {
        "id": "db191adb.ab5d88",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 460,
        "wires": [
            [
                "4d2621b2.40594"
            ]
        ]
    },
    {
        "id": "12347346.b6688d",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "6058ce64.20942",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Loznice",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 280,
        "wires": [
            [
                "32d578e0.9f4758"
            ]
        ]
    },
    {
        "id": "32d578e0.9f4758",
        "type": "change",
        "z": "35ef67ac.997568",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 280,
        "wires": [
            [
                "4d2621b2.40594"
            ]
        ]
    },
    {
        "id": "617ca2b5.e0296c",
        "type": "switch",
        "z": "35ef67ac.997568",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 200,
        "wires": [
            [
                "3f5399e.6a09566"
            ]
        ]
    },
    {
        "id": "3f5399e.6a09566",
        "type": "mqtt out",
        "z": "35ef67ac.997568",
        "name": "",
        "topic": "home/loznice/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1200,
        "y": 180,
        "wires": []
    },
    {
        "id": "60d82562.3a9dec",
        "type": "mqtt out",
        "z": "35ef67ac.997568",
        "name": "",
        "topic": "home/loznice/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1700,
        "y": 280,
        "wires": []
    },
    {
        "id": "46a5791a.f17568",
        "type": "rbe",
        "z": "35ef67ac.997568",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "60d82562.3a9dec"
            ]
        ]
    },
    {
        "id": "6984996e.4fdff8",
        "type": "mqtt in",
        "z": "1ff513c9.5d1d8c",
        "name": "Pohyb_koupelna",
        "topic": "home/koupelna/+",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 200,
        "y": 440,
        "wires": [
            [
                "57b78506.b9a04c"
            ]
        ]
    },
    {
        "id": "cc40fa4.5004c08",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 360,
        "wires": [
            [
                "97a381df.e287d"
            ]
        ]
    },
    {
        "id": "88868dc.8910f7",
        "type": "function",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 400,
        "wires": [
            [
                "d3b657b0.20af88",
                "d1470a63.72c068",
                "fddd2bc3.29ec88"
            ]
        ]
    },
    {
        "id": "d3b657b0.20af88",
        "type": "switch",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 400,
        "wires": [
            [
                "cc40fa4.5004c08"
            ],
            [
                "18ae1188.07d89e"
            ]
        ]
    },
    {
        "id": "18ae1188.07d89e",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 420,
        "wires": [
            [
                "51ac0c68.cbb2f4"
            ]
        ]
    },
    {
        "id": "8a1fb882.851688",
        "type": "join",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1450,
        "y": 380,
        "wires": [
            [
                "db27bc3a.757d7"
            ]
        ]
    },
    {
        "id": "f20110c1.6fe06",
        "type": "debug",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 380,
        "wires": []
    },
    {
        "id": "97a381df.e287d",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 360,
        "wires": [
            [
                "8a1fb882.851688",
                "eff3133e.29a66"
            ]
        ]
    },
    {
        "id": "51ac0c68.cbb2f4",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 420,
        "wires": [
            [
                "8a1fb882.851688",
                "eff3133e.29a66"
            ]
        ]
    },
    {
        "id": "db27bc3a.757d7",
        "type": "function",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 380,
        "wires": [
            [
                "f20110c1.6fe06"
            ]
        ]
    },
    {
        "id": "784b37e6.093a48",
        "type": "ui_template",
        "z": "1ff513c9.5d1d8c",
        "group": "de2505cd.6c5ad8",
        "name": "Koupelna_template_1",
        "order": 15,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 200,
        "wires": [
            [
                "26e791d6.313f9e",
                "88868dc.8910f7",
                "b834302d.31861"
            ]
        ]
    },
    {
        "id": "3e13313b.c1c35e",
        "type": "ui_template",
        "z": "1ff513c9.5d1d8c",
        "group": "de2505cd.6c5ad8",
        "name": "Koupelna_template_2",
        "order": 16,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 260,
        "wires": [
            [
                "26e791d6.313f9e",
                "b834302d.31861"
            ]
        ]
    },
    {
        "id": "f258d568.0f8848",
        "type": "ui_template",
        "z": "1ff513c9.5d1d8c",
        "group": "de2505cd.6c5ad8",
        "name": "Koupelna_template_3",
        "order": 17,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 320,
        "wires": [
            [
                "26e791d6.313f9e",
                "88868dc.8910f7",
                "b834302d.31861"
            ]
        ]
    },
    {
        "id": "26e791d6.313f9e",
        "type": "ui_led",
        "z": "1ff513c9.5d1d8c",
        "order": 18,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Koupelna",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Koupelna_led",
        "x": 520,
        "y": 180,
        "wires": []
    },
    {
        "id": "57b78506.b9a04c",
        "type": "switch",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/koupelna/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/koupelna/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "88868dc.8910f7"
            ],
            [
                "f9f73f11.542fb"
            ]
        ]
    },
    {
        "id": "f9f73f11.542fb",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 480,
        "wires": [
            [
                "8a1fb882.851688"
            ]
        ]
    },
    {
        "id": "b834302d.31861",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "d1470a63.72c068",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Koupelna",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 300,
        "wires": [
            [
                "7f7b259a.95277c"
            ]
        ]
    },
    {
        "id": "7f7b259a.95277c",
        "type": "change",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 300,
        "wires": [
            [
                "8a1fb882.851688"
            ]
        ]
    },
    {
        "id": "fddd2bc3.29ec88",
        "type": "switch",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 220,
        "wires": [
            [
                "1459a990.047876"
            ]
        ]
    },
    {
        "id": "1459a990.047876",
        "type": "mqtt out",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "topic": "home/koupelna/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1190,
        "y": 200,
        "wires": []
    },
    {
        "id": "8f4f47fd.269d68",
        "type": "mqtt out",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "topic": "home/koupelna/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1710,
        "y": 300,
        "wires": []
    },
    {
        "id": "eff3133e.29a66",
        "type": "rbe",
        "z": "1ff513c9.5d1d8c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1450,
        "y": 300,
        "wires": [
            [
                "8f4f47fd.269d68"
            ]
        ]
    },
    {
        "id": "4e549e9a.3f3b9",
        "type": "mqtt in",
        "z": "7adfc18d.51ac",
        "name": "Pohyb_garaz",
        "topic": "home/garaz/+",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "d3506117.0bce9"
            ]
        ]
    },
    {
        "id": "ef5d0bb7.bd40d8",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 320,
        "wires": [
            [
                "33b49254.0f6ffe"
            ]
        ]
    },
    {
        "id": "858f4649.877868",
        "type": "function",
        "z": "7adfc18d.51ac",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 360,
        "wires": [
            [
                "1c9e70ed.7b723f",
                "a5a2110b.bc1cc",
                "f8883874.5d17f8"
            ]
        ]
    },
    {
        "id": "1c9e70ed.7b723f",
        "type": "switch",
        "z": "7adfc18d.51ac",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 360,
        "wires": [
            [
                "ef5d0bb7.bd40d8"
            ],
            [
                "2133537.028afac"
            ]
        ]
    },
    {
        "id": "2133537.028afac",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 380,
        "wires": [
            [
                "706b862c.bfd398"
            ]
        ]
    },
    {
        "id": "4fd235dc.5eb25c",
        "type": "join",
        "z": "7adfc18d.51ac",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1450,
        "y": 340,
        "wires": [
            [
                "97a56ba9.5d16d8"
            ]
        ]
    },
    {
        "id": "55c738dc.7b9ab8",
        "type": "debug",
        "z": "7adfc18d.51ac",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 340,
        "wires": []
    },
    {
        "id": "33b49254.0f6ffe",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 320,
        "wires": [
            [
                "4fd235dc.5eb25c",
                "3e66cfb1.bad17"
            ]
        ]
    },
    {
        "id": "706b862c.bfd398",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 380,
        "wires": [
            [
                "4fd235dc.5eb25c",
                "3e66cfb1.bad17"
            ]
        ]
    },
    {
        "id": "97a56ba9.5d16d8",
        "type": "function",
        "z": "7adfc18d.51ac",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 340,
        "wires": [
            [
                "55c738dc.7b9ab8"
            ]
        ]
    },
    {
        "id": "68ede31e.de0ccc",
        "type": "ui_template",
        "z": "7adfc18d.51ac",
        "group": "de2505cd.6c5ad8",
        "name": "Garaz_template_1",
        "order": 19,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "5b724b65.fe46f4",
                "858f4649.877868",
                "b16623e2.76a79"
            ]
        ]
    },
    {
        "id": "ea936a2b.cca6d8",
        "type": "ui_template",
        "z": "7adfc18d.51ac",
        "group": "de2505cd.6c5ad8",
        "name": "Garaz_template_2",
        "order": 20,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "5b724b65.fe46f4",
                "b16623e2.76a79"
            ]
        ]
    },
    {
        "id": "34d8903.6334d7",
        "type": "ui_template",
        "z": "7adfc18d.51ac",
        "group": "de2505cd.6c5ad8",
        "name": "Garaz_template_3",
        "order": 21,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 280,
        "wires": [
            [
                "5b724b65.fe46f4",
                "858f4649.877868",
                "b16623e2.76a79"
            ]
        ]
    },
    {
        "id": "5b724b65.fe46f4",
        "type": "ui_led",
        "z": "7adfc18d.51ac",
        "order": 22,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Garaz",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Garaz_led",
        "x": 510,
        "y": 140,
        "wires": []
    },
    {
        "id": "d3506117.0bce9",
        "type": "switch",
        "z": "7adfc18d.51ac",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/garaz/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/garaz/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 480,
        "wires": [
            [
                "858f4649.877868"
            ],
            [
                "93226436.6cf258"
            ]
        ]
    },
    {
        "id": "93226436.6cf258",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 440,
        "wires": [
            [
                "4fd235dc.5eb25c"
            ]
        ]
    },
    {
        "id": "b16623e2.76a79",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a5a2110b.bc1cc",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Garaz",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 260,
        "wires": [
            [
                "9b79b3e7.abf58"
            ]
        ]
    },
    {
        "id": "9b79b3e7.abf58",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 260,
        "wires": [
            [
                "4fd235dc.5eb25c"
            ]
        ]
    },
    {
        "id": "f8883874.5d17f8",
        "type": "switch",
        "z": "7adfc18d.51ac",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 200,
        "wires": [
            [
                "1e4ea426.13094c"
            ]
        ]
    },
    {
        "id": "1e4ea426.13094c",
        "type": "mqtt out",
        "z": "7adfc18d.51ac",
        "name": "",
        "topic": "home/garaz/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1160,
        "y": 180,
        "wires": []
    },
    {
        "id": "c2b2874e.7a6788",
        "type": "mqtt out",
        "z": "7adfc18d.51ac",
        "name": "",
        "topic": "home/garaz/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1660,
        "y": 260,
        "wires": []
    },
    {
        "id": "3e66cfb1.bad17",
        "type": "rbe",
        "z": "7adfc18d.51ac",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1450,
        "y": 260,
        "wires": [
            [
                "c2b2874e.7a6788"
            ]
        ]
    },
    {
        "id": "fc77bb44.d62048",
        "type": "mqtt in",
        "z": "7adfc18d.51ac",
        "name": "Camera_outside",
        "topic": "home/garaz/kamera/kamera_1",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 140,
        "y": 860,
        "wires": [
            [
                "34879a7e.13d986"
            ]
        ]
    },
    {
        "id": "34879a7e.13d986",
        "type": "switch",
        "z": "7adfc18d.51ac",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 860,
        "wires": [
            [
                "6ca3c290.b4823c"
            ],
            [
                "317c4e9c.a55b82",
                "170a6a89.b0dc55",
                "21da5ab5.bcf286"
            ]
        ]
    },
    {
        "id": "6ca3c290.b4823c",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vrata jsou otevřeny !",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 920,
        "wires": [
            [
                "448d8343.55b15c"
            ]
        ]
    },
    {
        "id": "317c4e9c.a55b82",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vrata jsou zavřeny !",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1000,
        "wires": [
            [
                "68729334.520bec"
            ]
        ]
    },
    {
        "id": "baac69cf.2ce9d8",
        "type": "mqtt out",
        "z": "7adfc18d.51ac",
        "name": "security",
        "topic": "home/zabezpeceni",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1300,
        "y": 940,
        "wires": []
    },
    {
        "id": "1ecd1bd4.6c76e4",
        "type": "mqtt out",
        "z": "7adfc18d.51ac",
        "name": "Stav_auto",
        "topic": "home/garaz/stav",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1240,
        "y": 800,
        "wires": []
    },
    {
        "id": "170a6a89.b0dc55",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "687886c4.176e68",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zabezpečení aktivováno !",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1020,
        "wires": [
            [
                "7b749bb9.19de14",
                "5c49ac23.17ca04"
            ]
        ]
    },
    {
        "id": "f390b919.d14528",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zabezpečení deaktivováno !",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1080,
        "wires": [
            [
                "7b749bb9.19de14",
                "5c49ac23.17ca04"
            ]
        ]
    },
    {
        "id": "8825b828.136ea8",
        "type": "function",
        "z": "7adfc18d.51ac",
        "name": "",
        "func": "msg.payload = Math.floor(Math.random() * 1000) + 200;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 680,
        "wires": [
            [
                "8e2c0850.195048"
            ]
        ]
    },
    {
        "id": "21da5ab5.bcf286",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 740,
        "wires": [
            [
                "8825b828.136ea8"
            ]
        ]
    },
    {
        "id": "8e2c0850.195048",
        "type": "function",
        "z": "7adfc18d.51ac",
        "name": "",
        "func": "var vaha = msg.payload;\nif(vaha > 500){\n    msg.payload = \"Auto je v garazi\";\n    return msg;\n}else {\n    msg.payload = \"Auto neni v garazi\";\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 680,
        "wires": [
            [
                "5a7aa278.b9a0cc"
            ]
        ]
    },
    {
        "id": "e85c948f.6cc6b8",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 800,
        "wires": [
            [
                "1ecd1bd4.6c76e4",
                "687886c4.176e68",
                "baac69cf.2ce9d8",
                "29d4cc8a.a33304",
                "badba682.620938"
            ]
        ]
    },
    {
        "id": "5a7aa278.b9a0cc",
        "type": "switch",
        "z": "7adfc18d.51ac",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Auto je v garazi",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Auto neni v garazi",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 760,
        "y": 840,
        "wires": [
            [
                "e85c948f.6cc6b8"
            ],
            [
                "3adfdb12.b889e4"
            ]
        ]
    },
    {
        "id": "3adfdb12.b889e4",
        "type": "change",
        "z": "7adfc18d.51ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 880,
        "wires": [
            [
                "1ecd1bd4.6c76e4",
                "f390b919.d14528",
                "29d4cc8a.a33304",
                "badba682.620938"
            ]
        ]
    },
    {
        "id": "448d8343.55b15c",
        "type": "ui_toast",
        "z": "7adfc18d.51ac",
        "position": "top right",
        "displayTime": "3",
        "highlight": "green",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "Stav:",
        "name": "",
        "x": 730,
        "y": 920,
        "wires": []
    },
    {
        "id": "68729334.520bec",
        "type": "ui_toast",
        "z": "7adfc18d.51ac",
        "position": "top right",
        "displayTime": "3",
        "highlight": "green",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "Stav:",
        "name": "",
        "x": 730,
        "y": 1000,
        "wires": []
    },
    {
        "id": "29d4cc8a.a33304",
        "type": "ui_led",
        "z": "7adfc18d.51ac",
        "order": 7,
        "group": "36f13728.d9e4d8",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ffffff",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#1809ec",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Zabezpečení",
        "x": 1350,
        "y": 1120,
        "wires": []
    },
    {
        "id": "7b749bb9.19de14",
        "type": "ui_text",
        "z": "7adfc18d.51ac",
        "group": "36f13728.d9e4d8",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1330,
        "y": 1160,
        "wires": []
    },
    {
        "id": "badba682.620938",
        "type": "ui_led",
        "z": "7adfc18d.51ac",
        "order": 18,
        "group": "3b240061.460c8",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Zabezpečení",
        "x": 1350,
        "y": 1220,
        "wires": []
    },
    {
        "id": "5c49ac23.17ca04",
        "type": "ui_text",
        "z": "7adfc18d.51ac",
        "group": "3b240061.460c8",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Garážové vrata",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1360,
        "y": 1260,
        "wires": []
    },
    {
        "id": "fdc399ee.0bbf18",
        "type": "comment",
        "z": "7adfc18d.51ac",
        "name": "Garaz osvetleni",
        "info": "",
        "x": 290,
        "y": 60,
        "wires": []
    },
    {
        "id": "305cc141.85305e",
        "type": "comment",
        "z": "7adfc18d.51ac",
        "name": "Ovladani garaze",
        "info": "",
        "x": 290,
        "y": 620,
        "wires": []
    },
    {
        "id": "da93290d.13c168",
        "type": "mqtt in",
        "z": "136fd60a.329e8a",
        "name": "Pohyb_vchod",
        "topic": "home/vchod/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 210,
        "y": 400,
        "wires": [
            [
                "14f822ec.a95e3d"
            ]
        ]
    },
    {
        "id": "405458d5.5a2728",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "605bfd64.0ea464"
            ]
        ]
    },
    {
        "id": "fbea0ac2.5e82c8",
        "type": "function",
        "z": "136fd60a.329e8a",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 800,
        "y": 360,
        "wires": [
            [
                "dd1af8cd.6cd378",
                "1fbbd1d5.7bc44e",
                "18f9ebf8.9772d4"
            ]
        ]
    },
    {
        "id": "dd1af8cd.6cd378",
        "type": "switch",
        "z": "136fd60a.329e8a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 360,
        "wires": [
            [
                "405458d5.5a2728"
            ],
            [
                "a76def03.92ae9"
            ]
        ]
    },
    {
        "id": "a76def03.92ae9",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 380,
        "wires": [
            [
                "174446f4.29bbd9"
            ]
        ]
    },
    {
        "id": "df53194a.691408",
        "type": "join",
        "z": "136fd60a.329e8a",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1470,
        "y": 340,
        "wires": [
            [
                "41a14e6e.3bfb9"
            ]
        ]
    },
    {
        "id": "ebf0ced.f4ce03",
        "type": "debug",
        "z": "136fd60a.329e8a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1830,
        "y": 340,
        "wires": []
    },
    {
        "id": "605bfd64.0ea464",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 320,
        "wires": [
            [
                "df53194a.691408",
                "ccb63b1a.1a6dc8"
            ]
        ]
    },
    {
        "id": "174446f4.29bbd9",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 380,
        "wires": [
            [
                "df53194a.691408",
                "ccb63b1a.1a6dc8"
            ]
        ]
    },
    {
        "id": "41a14e6e.3bfb9",
        "type": "function",
        "z": "136fd60a.329e8a",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1630,
        "y": 340,
        "wires": [
            [
                "ebf0ced.f4ce03"
            ]
        ]
    },
    {
        "id": "e6fb3b60.5535f8",
        "type": "ui_template",
        "z": "136fd60a.329e8a",
        "group": "de2505cd.6c5ad8",
        "name": "Vchod_template_1",
        "order": 23,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "69b3866.141d178",
                "fbea0ac2.5e82c8",
                "57849cdc.72d644"
            ]
        ]
    },
    {
        "id": "15f7f166.45b7ff",
        "type": "ui_template",
        "z": "136fd60a.329e8a",
        "group": "de2505cd.6c5ad8",
        "name": "Vchod_template_2",
        "order": 24,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "69b3866.141d178",
                "57849cdc.72d644"
            ]
        ]
    },
    {
        "id": "5e2ba35a.eff60c",
        "type": "ui_template",
        "z": "136fd60a.329e8a",
        "group": "de2505cd.6c5ad8",
        "name": "Vchod_template_3",
        "order": 25,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 290,
        "y": 280,
        "wires": [
            [
                "69b3866.141d178",
                "fbea0ac2.5e82c8",
                "57849cdc.72d644"
            ]
        ]
    },
    {
        "id": "69b3866.141d178",
        "type": "ui_led",
        "z": "136fd60a.329e8a",
        "order": 26,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Vchod",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Vchod_led",
        "x": 530,
        "y": 140,
        "wires": []
    },
    {
        "id": "14f822ec.a95e3d",
        "type": "switch",
        "z": "136fd60a.329e8a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/vchod/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/vchod/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 480,
        "wires": [
            [
                "fbea0ac2.5e82c8"
            ],
            [
                "2e998e7a.c6a1f2"
            ]
        ]
    },
    {
        "id": "2e998e7a.c6a1f2",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 440,
        "wires": [
            [
                "df53194a.691408"
            ]
        ]
    },
    {
        "id": "57849cdc.72d644",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "1fbbd1d5.7bc44e",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vchod",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 260,
        "wires": [
            [
                "c8f8bb60.614488"
            ]
        ]
    },
    {
        "id": "c8f8bb60.614488",
        "type": "change",
        "z": "136fd60a.329e8a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "df53194a.691408"
            ]
        ]
    },
    {
        "id": "18f9ebf8.9772d4",
        "type": "switch",
        "z": "136fd60a.329e8a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "noc",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 200,
        "wires": [
            [
                "c5df0de6.fcf5b"
            ]
        ]
    },
    {
        "id": "c5df0de6.fcf5b",
        "type": "mqtt out",
        "z": "136fd60a.329e8a",
        "name": "",
        "topic": "home/vchod/noc_on",
        "qos": "1",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1160,
        "y": 180,
        "wires": []
    },
    {
        "id": "1bbdbe85.6e2c31",
        "type": "mqtt out",
        "z": "136fd60a.329e8a",
        "name": "",
        "topic": "home/vchod/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1680,
        "y": 260,
        "wires": []
    },
    {
        "id": "ccb63b1a.1a6dc8",
        "type": "rbe",
        "z": "136fd60a.329e8a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1470,
        "y": 260,
        "wires": [
            [
                "1bbdbe85.6e2c31"
            ]
        ]
    },
    {
        "id": "a152fdb4.804eb",
        "type": "mqtt in",
        "z": "41699c29.520954",
        "name": "Pohyb_venek",
        "topic": "home/venek/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 190,
        "y": 420,
        "wires": [
            [
                "d625bec8.13e3e"
            ]
        ]
    },
    {
        "id": "7389942d.224bbc",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zapnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 340,
        "wires": [
            [
                "8dfbc3fa.26236"
            ]
        ]
    },
    {
        "id": "e6ba7268.dc2a9",
        "type": "function",
        "z": "41699c29.520954",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = 'true';\n    }else if(drh == \"off\"){\n        msg.payload = 'false';\n    }\n    return msg;\n}else{\nvar uz = new Date();\nuz = uz.getHours();\nvar def = flow.get(\"state\");\nif(def == \"auto\"){\n    if(uz > 7 && uz <= 18 ){\n        msg.payload=\"false\";\n    }else{\n        msg.payload=drh;\n    }\n    return msg;\n}else{\n    msg.payload=def;\n    return msg;\n}\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 380,
        "wires": [
            [
                "525f038f.86ffcc",
                "574dc929.36eb38"
            ]
        ]
    },
    {
        "id": "525f038f.86ffcc",
        "type": "switch",
        "z": "41699c29.520954",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 380,
        "wires": [
            [
                "7389942d.224bbc"
            ],
            [
                "bac2361c.9378f8"
            ]
        ]
    },
    {
        "id": "bac2361c.9378f8",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vypnuta",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 400,
        "wires": [
            [
                "3a3d54a.9ecd9ac"
            ]
        ]
    },
    {
        "id": "5ba88967.0fe898",
        "type": "join",
        "z": "41699c29.520954",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1450,
        "y": 360,
        "wires": [
            [
                "19a13b30.d93425"
            ]
        ]
    },
    {
        "id": "2a897d98.9cdb12",
        "type": "debug",
        "z": "41699c29.520954",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 360,
        "wires": []
    },
    {
        "id": "8dfbc3fa.26236",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 340,
        "wires": [
            [
                "5ba88967.0fe898",
                "7eda061e.7cf838"
            ]
        ]
    },
    {
        "id": "3a3d54a.9ecd9ac",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Svetla",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 400,
        "wires": [
            [
                "5ba88967.0fe898",
                "7eda061e.7cf838"
            ]
        ]
    },
    {
        "id": "19a13b30.d93425",
        "type": "function",
        "z": "41699c29.520954",
        "name": "",
        "func": "if(msg.payload.Svetla == \"Vypnuta\"){\nmsg.payload.Intenzita = \"-\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 360,
        "wires": [
            [
                "2a897d98.9cdb12"
            ]
        ]
    },
    {
        "id": "360cce58.e64da2",
        "type": "ui_template",
        "z": "41699c29.520954",
        "group": "de2505cd.6c5ad8",
        "name": "Venek_template_1",
        "order": 27,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 270,
        "y": 180,
        "wires": [
            [
                "4199d4fe.ecb6dc",
                "e6ba7268.dc2a9",
                "5de9ba2b.0073b4"
            ]
        ]
    },
    {
        "id": "cac7d7cb.09a2e8",
        "type": "ui_template",
        "z": "41699c29.520954",
        "group": "de2505cd.6c5ad8",
        "name": "Venek_template_2",
        "order": 28,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 270,
        "y": 240,
        "wires": [
            [
                "4199d4fe.ecb6dc",
                "5de9ba2b.0073b4"
            ]
        ]
    },
    {
        "id": "f4493411.105e68",
        "type": "ui_template",
        "z": "41699c29.520954",
        "group": "de2505cd.6c5ad8",
        "name": "Venek_template_3",
        "order": 29,
        "width": "1",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 270,
        "y": 300,
        "wires": [
            [
                "4199d4fe.ecb6dc",
                "e6ba7268.dc2a9",
                "5de9ba2b.0073b4"
            ]
        ]
    },
    {
        "id": "4199d4fe.ecb6dc",
        "type": "ui_led",
        "z": "41699c29.520954",
        "order": 30,
        "group": "de2505cd.6c5ad8",
        "width": "3",
        "height": "1",
        "label": "Venek",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Venek_led",
        "x": 510,
        "y": 160,
        "wires": []
    },
    {
        "id": "d625bec8.13e3e",
        "type": "switch",
        "z": "41699c29.520954",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/venek/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/venek/intenzita",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 500,
        "wires": [
            [
                "e6ba7268.dc2a9"
            ],
            [
                "9ee30e13.1f7c7"
            ]
        ]
    },
    {
        "id": "9ee30e13.1f7c7",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Intenzita",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 460,
        "wires": [
            [
                "5ba88967.0fe898"
            ]
        ]
    },
    {
        "id": "5de9ba2b.0073b4",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "574dc929.36eb38",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Venkovni_prostory",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 280,
        "wires": [
            [
                "1752c18.a13f73f"
            ]
        ]
    },
    {
        "id": "1752c18.a13f73f",
        "type": "change",
        "z": "41699c29.520954",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mistnost",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 280,
        "wires": [
            [
                "5ba88967.0fe898"
            ]
        ]
    },
    {
        "id": "2e9a8fcc.539f9",
        "type": "mqtt out",
        "z": "41699c29.520954",
        "name": "",
        "topic": "home/venku/svetla/hodnota",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1640,
        "y": 280,
        "wires": []
    },
    {
        "id": "7eda061e.7cf838",
        "type": "rbe",
        "z": "41699c29.520954",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1440,
        "y": 280,
        "wires": [
            [
                "2e9a8fcc.539f9"
            ]
        ]
    },
    {
        "id": "fe31fd6e.1daab",
        "type": "mqtt in",
        "z": "60f966e1.dc16a8",
        "name": "",
        "topic": "home/+/pohyb",
        "qos": "1",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 230,
        "y": 240,
        "wires": [
            [
                "e754dd87.f5c19"
            ]
        ]
    },
    {
        "id": "8e031c83.fe564",
        "type": "ui_led",
        "z": "60f966e1.dc16a8",
        "order": 2,
        "group": "4da70d94.c48a04",
        "width": 6,
        "height": 1,
        "label": "Pohyb v domě",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_dum",
        "x": 1180,
        "y": 220,
        "wires": []
    },
    {
        "id": "c9d6cd73.fe527",
        "type": "switch",
        "z": "60f966e1.dc16a8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 240,
        "wires": [
            [
                "94e3d9a6.d77338"
            ],
            [
                "276f24f5.8cce0c"
            ]
        ]
    },
    {
        "id": "94e3d9a6.d77338",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 200,
        "wires": [
            [
                "8e031c83.fe564",
                "276f24f5.8cce0c"
            ]
        ]
    },
    {
        "id": "276f24f5.8cce0c",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 280,
        "wires": [
            [
                "624f56fc.241d58"
            ]
        ]
    },
    {
        "id": "905a1248.1d13a",
        "type": "ui_led",
        "z": "60f966e1.dc16a8",
        "order": 4,
        "group": "4da70d94.c48a04",
        "width": 6,
        "height": 1,
        "label": "Pohyb v okolí domu",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_venek",
        "x": 870,
        "y": 800,
        "wires": []
    },
    {
        "id": "809dc46f.d0b4f8",
        "type": "switch",
        "z": "60f966e1.dc16a8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 820,
        "wires": [
            [
                "d92de393.fb4e1"
            ],
            [
                "fd97a748.51c108"
            ]
        ]
    },
    {
        "id": "d92de393.fb4e1",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 780,
        "wires": [
            [
                "905a1248.1d13a",
                "fd97a748.51c108",
                "38b9caf8.6bc636"
            ]
        ]
    },
    {
        "id": "fd97a748.51c108",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 860,
        "wires": [
            [
                "e98425a7.e6fe38"
            ]
        ]
    },
    {
        "id": "e754dd87.f5c19",
        "type": "switch",
        "z": "60f966e1.dc16a8",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/venek/pohyb",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/garaz/pohyb",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home/venek/pohyb",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 240,
        "wires": [
            [
                "809dc46f.d0b4f8"
            ],
            [
                "52b99473.5576bc"
            ],
            [
                "c9d6cd73.fe527"
            ]
        ]
    },
    {
        "id": "4490aebd.6321a",
        "type": "ui_led",
        "z": "60f966e1.dc16a8",
        "order": 1,
        "group": "4da70d94.c48a04",
        "width": 6,
        "height": 1,
        "label": "Autorizovaná osoba v domě",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_uzivatel",
        "x": 750,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2f7d171a.42ee88",
        "type": "ui_led",
        "z": "60f966e1.dc16a8",
        "order": 3,
        "group": "4da70d94.c48a04",
        "width": 6,
        "height": 1,
        "label": "Pohyb v garáži",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_garaz",
        "x": 1170,
        "y": 460,
        "wires": []
    },
    {
        "id": "52b99473.5576bc",
        "type": "switch",
        "z": "60f966e1.dc16a8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 480,
        "wires": [
            [
                "ac89c5a2.ee66a8"
            ],
            [
                "bf880e83.b0b8b"
            ]
        ]
    },
    {
        "id": "ac89c5a2.ee66a8",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 440,
        "wires": [
            [
                "2f7d171a.42ee88",
                "bf880e83.b0b8b",
                "4e9f78bb.eed4e8"
            ]
        ]
    },
    {
        "id": "bf880e83.b0b8b",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 520,
        "wires": [
            [
                "58232f4b.07cac"
            ]
        ]
    },
    {
        "id": "4e9f78bb.eed4e8",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Byla pořízena fotka garáže",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 400,
        "wires": [
            [
                "df4d3fa.b9c5dc"
            ]
        ]
    },
    {
        "id": "df4d3fa.b9c5dc",
        "type": "debug",
        "z": "60f966e1.dc16a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 400,
        "wires": []
    },
    {
        "id": "38b9caf8.6bc636",
        "type": "change",
        "z": "60f966e1.dc16a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Byla pořízena fotka venkovních prostorů",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 740,
        "wires": [
            [
                "3de44e12.14b712"
            ]
        ]
    },
    {
        "id": "3de44e12.14b712",
        "type": "debug",
        "z": "60f966e1.dc16a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 740,
        "wires": []
    },
    {
        "id": "624f56fc.241d58",
        "type": "trigger",
        "z": "60f966e1.dc16a8",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 990,
        "y": 280,
        "wires": [
            [
                "8e031c83.fe564"
            ]
        ]
    },
    {
        "id": "58232f4b.07cac",
        "type": "trigger",
        "z": "60f966e1.dc16a8",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 970,
        "y": 520,
        "wires": [
            [
                "2f7d171a.42ee88"
            ]
        ]
    },
    {
        "id": "e98425a7.e6fe38",
        "type": "trigger",
        "z": "60f966e1.dc16a8",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 690,
        "y": 860,
        "wires": [
            [
                "905a1248.1d13a"
            ]
        ]
    },
    {
        "id": "86446070.40207",
        "type": "mqtt in",
        "z": "60f966e1.dc16a8",
        "name": "",
        "topic": "home/uzivatel/+",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 320,
        "y": 1060,
        "wires": [
            [
                "c2e6d49.7e36928"
            ]
        ]
    },
    {
        "id": "c2e6d49.7e36928",
        "type": "function",
        "z": "60f966e1.dc16a8",
        "name": "",
        "func": "var os1 = global.get(\"osb1\");\nvar os2 = global.get(\"osb2\");\nif(os1 || os2){\n    msg.payload=true;\n}else{\n    msg.payload=false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 530,
        "y": 1060,
        "wires": [
            [
                "4490aebd.6321a"
            ]
        ]
    },
    {
        "id": "660f167e.01fa38",
        "type": "comment",
        "z": "5a182d46.cf2834",
        "name": "Predni dvěře",
        "info": "",
        "x": 160,
        "y": 60,
        "wires": []
    },
    {
        "id": "98baeda2.aa1",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "Data_predni_dvere",
        "topic": "home/dvere/predni",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 150,
        "y": 400,
        "wires": [
            [
                "535949b8.e70a88"
            ]
        ]
    },
    {
        "id": "e5cd1037.0b5c1",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Unlock_1",
        "order": 3,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'unlock', topic: 'pd'})\"> \n    UNL\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 180,
        "wires": [
            [
                "915aa360.7a12d",
                "535949b8.e70a88"
            ]
        ]
    },
    {
        "id": "c4921574.071aa8",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Lock_1",
        "order": 4,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:red\"\n    ng-click=\"send({payload: 'lock', topic: 'pd'})\"> \n    LCK\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "915aa360.7a12d",
                "535949b8.e70a88"
            ]
        ]
    },
    {
        "id": "915aa360.7a12d",
        "type": "ui_led",
        "z": "5a182d46.cf2834",
        "order": 5,
        "group": "3b240061.460c8",
        "width": 4,
        "height": 1,
        "label": "Predni dvere",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "lock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "unlock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_1",
        "x": 590,
        "y": 160,
        "wires": []
    },
    {
        "id": "1e1e9c98.8de1e3",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "",
        "topic": "home/dvere",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 400,
        "y": 120,
        "wires": [
            [
                "535949b8.e70a88"
            ]
        ]
    },
    {
        "id": "535949b8.e70a88",
        "type": "function",
        "z": "5a182d46.cf2834",
        "name": "",
        "func": "var jed = msg.payload;\nif(jed == \"unlock\" || jed == \"true\"){\n    msg.payload=true;\n}else if(jed == \"lock\" || jed == \"false\"){\n    msg.payload=false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 400,
        "wires": [
            [
                "da8e4d2f.b8ef1",
                "915aa360.7a12d"
            ]
        ]
    },
    {
        "id": "da8e4d2f.b8ef1",
        "type": "switch",
        "z": "5a182d46.cf2834",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 400,
        "wires": [
            [
                "85a81419.790088"
            ],
            [
                "891affac.eff75"
            ]
        ]
    },
    {
        "id": "85a81419.790088",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Predni dvere odemceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 360,
        "wires": [
            [
                "5ada1cad.7708a4"
            ]
        ]
    },
    {
        "id": "891affac.eff75",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Predni dvere zamceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 420,
        "wires": [
            [
                "5ada1cad.7708a4"
            ]
        ]
    },
    {
        "id": "5ada1cad.7708a4",
        "type": "debug",
        "z": "5a182d46.cf2834",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 400,
        "wires": []
    },
    {
        "id": "8c504cbf.953c4",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "Data_zadni_dvere",
        "topic": "home/dvere/zadni",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 150,
        "y": 880,
        "wires": [
            [
                "61cb16c6.44edc8"
            ]
        ]
    },
    {
        "id": "8db258b6.e31528",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Unlock_2",
        "order": 6,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'unlock', topic: 'zd'})\"> \n    UNL\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 720,
        "wires": [
            [
                "13e905b6.80810a",
                "61cb16c6.44edc8"
            ]
        ]
    },
    {
        "id": "44910c8b.a19f94",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Lock_2",
        "order": 7,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:red\"\n    ng-click=\"send({payload: 'lock', topic: 'zd'})\"> \n    LCK\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 780,
        "wires": [
            [
                "13e905b6.80810a",
                "61cb16c6.44edc8"
            ]
        ]
    },
    {
        "id": "13e905b6.80810a",
        "type": "ui_led",
        "z": "5a182d46.cf2834",
        "order": 8,
        "group": "3b240061.460c8",
        "width": 4,
        "height": 1,
        "label": "Zadni dvere",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "lock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "unlock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_2",
        "x": 530,
        "y": 740,
        "wires": []
    },
    {
        "id": "10f14e90.01e6c1",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "",
        "topic": "home/dvere",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 430,
        "y": 660,
        "wires": [
            [
                "61cb16c6.44edc8"
            ]
        ]
    },
    {
        "id": "61cb16c6.44edc8",
        "type": "function",
        "z": "5a182d46.cf2834",
        "name": "",
        "func": "var jed = msg.payload;\nif(jed == \"unlock\" || jed == \"true\"){\n    msg.payload=true;\n}else if(jed == \"lock\" || jed == \"false\"){\n    msg.payload=false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 880,
        "wires": [
            [
                "bb9a4195.84a87",
                "13e905b6.80810a"
            ]
        ]
    },
    {
        "id": "bb9a4195.84a87",
        "type": "switch",
        "z": "5a182d46.cf2834",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 880,
        "wires": [
            [
                "ad245aef.3d9d18"
            ],
            [
                "b3b7994a.5f5ae8"
            ]
        ]
    },
    {
        "id": "ad245aef.3d9d18",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zadni dvere odemceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 840,
        "wires": [
            [
                "2a46e66a.800e6a"
            ]
        ]
    },
    {
        "id": "b3b7994a.5f5ae8",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Zadni dvere zamceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 900,
        "wires": [
            [
                "2a46e66a.800e6a"
            ]
        ]
    },
    {
        "id": "2a46e66a.800e6a",
        "type": "debug",
        "z": "5a182d46.cf2834",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 860,
        "wires": []
    },
    {
        "id": "d741b89d.89d4d8",
        "type": "comment",
        "z": "5a182d46.cf2834",
        "name": "Zadní dvěře",
        "info": "",
        "x": 150,
        "y": 540,
        "wires": []
    },
    {
        "id": "f6b12617.755b78",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "Data_dvere_garaz",
        "topic": "home/dvere/garaz",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 150,
        "y": 1340,
        "wires": [
            [
                "e58ca15e.491a8"
            ]
        ]
    },
    {
        "id": "1720746e.8ad3cc",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Unlock_4",
        "order": 12,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'unlock', topic: 'zd'})\"> \n    UNL\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1180,
        "wires": [
            [
                "7c6f3a26.f6d214",
                "e58ca15e.491a8"
            ]
        ]
    },
    {
        "id": "9e7b7be8.8b5d18",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Lock_4",
        "order": 13,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:red\"\n    ng-click=\"send({payload: 'lock', topic: 'zd'})\"> \n    LCK\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1240,
        "wires": [
            [
                "7c6f3a26.f6d214",
                "e58ca15e.491a8"
            ]
        ]
    },
    {
        "id": "7c6f3a26.f6d214",
        "type": "ui_led",
        "z": "5a182d46.cf2834",
        "order": 14,
        "group": "3b240061.460c8",
        "width": 4,
        "height": 1,
        "label": "Garaz dvere",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "lock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "unlock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_4",
        "x": 530,
        "y": 1200,
        "wires": []
    },
    {
        "id": "36f4edaa.8ac5f2",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "",
        "topic": "home/dvere",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 430,
        "y": 1120,
        "wires": [
            [
                "e58ca15e.491a8"
            ]
        ]
    },
    {
        "id": "e58ca15e.491a8",
        "type": "function",
        "z": "5a182d46.cf2834",
        "name": "",
        "func": "var jed = msg.payload;\nif(jed == \"unlock\" || jed == \"true\"){\n    msg.payload=true;\n}else if(jed == \"lock\" || jed == \"false\"){\n    msg.payload=false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 1340,
        "wires": [
            [
                "5da4631e.5ae86c",
                "7c6f3a26.f6d214"
            ]
        ]
    },
    {
        "id": "5da4631e.5ae86c",
        "type": "switch",
        "z": "5a182d46.cf2834",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 1340,
        "wires": [
            [
                "40d657f2.bcbd08"
            ],
            [
                "25bee3f.514d01c"
            ]
        ]
    },
    {
        "id": "40d657f2.bcbd08",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Dvere do garaze odemceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 1300,
        "wires": [
            [
                "a220da1a.c3b0a8"
            ]
        ]
    },
    {
        "id": "25bee3f.514d01c",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Dvere do garaze zamceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 1360,
        "wires": [
            [
                "a220da1a.c3b0a8"
            ]
        ]
    },
    {
        "id": "fae1318d.07d5b",
        "type": "comment",
        "z": "5a182d46.cf2834",
        "name": "Dveře z garáže",
        "info": "",
        "x": 160,
        "y": 1060,
        "wires": []
    },
    {
        "id": "3b118000.5c5c3",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Unlock_3",
        "order": 9,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'unlock', topic: 'zd'})\"> \n    UNL\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 200,
        "y": 1600,
        "wires": [
            [
                "6cbe20eb.abfe6",
                "e9b012b7.52dca"
            ]
        ]
    },
    {
        "id": "22230dc8.842372",
        "type": "ui_template",
        "z": "5a182d46.cf2834",
        "group": "3b240061.460c8",
        "name": "Lock_3",
        "order": 10,
        "width": 1,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:red\"\n    ng-click=\"send({payload: 'lock', topic: 'zd'})\"> \n    LCK\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 200,
        "y": 1660,
        "wires": [
            [
                "6cbe20eb.abfe6",
                "e9b012b7.52dca"
            ]
        ]
    },
    {
        "id": "6cbe20eb.abfe6",
        "type": "ui_led",
        "z": "5a182d46.cf2834",
        "order": 11,
        "group": "3b240061.460c8",
        "width": 4,
        "height": 1,
        "label": "Okna",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "lock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "unlock",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Led_3",
        "x": 410,
        "y": 1620,
        "wires": []
    },
    {
        "id": "de902d20.3bbe8",
        "type": "mqtt in",
        "z": "5a182d46.cf2834",
        "name": "",
        "topic": "home/okna",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 120,
        "y": 1760,
        "wires": [
            [
                "e9b012b7.52dca"
            ]
        ]
    },
    {
        "id": "e9b012b7.52dca",
        "type": "function",
        "z": "5a182d46.cf2834",
        "name": "",
        "func": "var jed = msg.payload;\nif(jed == \"unlock\" || jed == \"true\"){\n    global.set(\"OknoLock\",false);\n    msg.payload=true;\n}else if(jed == \"lock\" || jed == \"false\"){\n    global.set(\"OknoLock\",true);\n    msg.payload=false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 1760,
        "wires": [
            [
                "2b3b8839.0c1c78",
                "6cbe20eb.abfe6",
                "4f0e1051.74cc9"
            ]
        ]
    },
    {
        "id": "2b3b8839.0c1c78",
        "type": "switch",
        "z": "5a182d46.cf2834",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1760,
        "wires": [
            [
                "8ae1d091.4974d"
            ],
            [
                "da506cf7.3a78b"
            ]
        ]
    },
    {
        "id": "8ae1d091.4974d",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Okna v dome odemceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1720,
        "wires": [
            [
                "fd467e3.97a068"
            ]
        ]
    },
    {
        "id": "da506cf7.3a78b",
        "type": "change",
        "z": "5a182d46.cf2834",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Okna v dome zamceny",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1780,
        "wires": [
            [
                "fd467e3.97a068"
            ]
        ]
    },
    {
        "id": "3224b942.beed36",
        "type": "comment",
        "z": "5a182d46.cf2834",
        "name": "Okna",
        "info": "",
        "x": 110,
        "y": 1500,
        "wires": []
    },
    {
        "id": "4f0e1051.74cc9",
        "type": "mqtt out",
        "z": "5a182d46.cf2834",
        "name": "Okno_zabezpecenie",
        "topic": "home/okno_zabezpecenie",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 635.8958129882812,
        "y": 1930.2222900390625,
        "wires": []
    },
    {
        "id": "a220da1a.c3b0a8",
        "type": "debug",
        "z": "5a182d46.cf2834",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 1320,
        "wires": []
    },
    {
        "id": "fd467e3.97a068",
        "type": "debug",
        "z": "5a182d46.cf2834",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 1740,
        "wires": []
    },
    {
        "id": "21ef2dd3.8747b2",
        "type": "mqtt out",
        "z": "fbc42f80.e2b3e",
        "name": "Camera_out",
        "topic": "home/garaz/kamera/kamera_1",
        "qos": "",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 890,
        "y": 580,
        "wires": []
    },
    {
        "id": "71260168.b6ecf",
        "type": "mqtt in",
        "z": "fbc42f80.e2b3e",
        "name": "Stav_auta",
        "topic": "home/garaz/stav",
        "qos": "2",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 100,
        "y": 420,
        "wires": [
            [
                "1d110997.a32976"
            ]
        ]
    },
    {
        "id": "1d110997.a32976",
        "type": "switch",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 420,
        "wires": [
            [
                "e03af76f.2c1878",
                "babebc6d.290bb"
            ],
            [
                "f9a10b8.97d66f8"
            ]
        ]
    },
    {
        "id": "ca0a5138.c5e9d",
        "type": "change",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 540,
        "wires": [
            [
                "21ef2dd3.8747b2"
            ]
        ]
    },
    {
        "id": "4ce8f7d2.e4c018",
        "type": "change",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 620,
        "wires": [
            [
                "21ef2dd3.8747b2"
            ]
        ]
    },
    {
        "id": "f2755cd6.0eb93",
        "type": "ui_button",
        "z": "fbc42f80.e2b3e",
        "name": "Open",
        "group": "36f13728.d9e4d8",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Otevřít garáž",
        "tooltip": "Open",
        "color": "black",
        "bgcolor": "green",
        "icon": "",
        "payload": "otevrit",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 90,
        "y": 520,
        "wires": [
            [
                "8ab61def.cc021"
            ]
        ]
    },
    {
        "id": "49b44cac.202444",
        "type": "ui_button",
        "z": "fbc42f80.e2b3e",
        "name": "Close",
        "group": "36f13728.d9e4d8",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Zavřít garáž",
        "tooltip": "",
        "color": "white",
        "bgcolor": "red",
        "icon": "",
        "payload": "zavrit",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 90,
        "y": 600,
        "wires": [
            [
                "8ab61def.cc021"
            ]
        ]
    },
    {
        "id": "35bfe680.fc5f3a",
        "type": "function",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "func": "msg.payload = Math.floor(Math.random() * 100);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 140,
        "wires": [
            [
                "809ed287.083a3"
            ]
        ]
    },
    {
        "id": "19d8b821.374f08",
        "type": "ui_gauge",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "group": "36f13728.d9e4d8",
        "order": 5,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "Nabití auta",
        "label": "Stav nabití",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ee2117",
            "#e6e600",
            "#15e52d"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1410,
        "y": 140,
        "wires": []
    },
    {
        "id": "7b6c995.884e968",
        "type": "delay",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "pauseType": "queue",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 940,
        "y": 260,
        "wires": [
            [
                "809ed287.083a3"
            ]
        ]
    },
    {
        "id": "e03af76f.2c1878",
        "type": "change",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 240,
        "wires": [
            [
                "809ed287.083a3",
                "35bfe680.fc5f3a"
            ]
        ]
    },
    {
        "id": "f9a10b8.97d66f8",
        "type": "change",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 300,
        "wires": [
            [
                "809ed287.083a3"
            ]
        ]
    },
    {
        "id": "809ed287.083a3",
        "type": "function",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "func": "var cislo = msg.payload;\n\nif(msg.set == false) {\n    cislo = 0;\n    msg.payload = cislo;\n    return msg;\n}\nif (msg.set == true){\n    if(cislo < 100) {\n    cislo = cislo + 1;    \n    msg.payload = cislo;\n    return msg;\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 140,
        "wires": [
            [
                "7b6c995.884e968",
                "2d469418.f7fa4c"
            ]
        ]
    },
    {
        "id": "2d469418.f7fa4c",
        "type": "function",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "func": "var cislo = msg.payload;\n\nif(msg.delete == true) {\n    cislo = 0;\n    msg.payload = cislo;\n    return msg;\n}\nelse {\n    msg.payload = cislo;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1200,
        "y": 140,
        "wires": [
            [
                "19d8b821.374f08"
            ]
        ]
    },
    {
        "id": "8ab61def.cc021",
        "type": "rbe",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 230,
        "y": 560,
        "wires": [
            [
                "61a90b86.218174"
            ]
        ]
    },
    {
        "id": "61a90b86.218174",
        "type": "switch",
        "z": "fbc42f80.e2b3e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "otevrit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "zavrit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 560,
        "wires": [
            [
                "ca0a5138.c5e9d"
            ],
            [
                "4ce8f7d2.e4c018"
            ]
        ]
    },
    {
        "id": "babebc6d.290bb",
        "type": "ui_media",
        "z": "fbc42f80.e2b3e",
        "group": "36f13728.d9e4d8",
        "name": "",
        "width": 0,
        "height": 0,
        "order": 29,
        "category": "Picture1",
        "file": "car.jpeg",
        "layout": "center",
        "showcontrols": false,
        "loop": false,
        "onstart": true,
        "scope": "local",
        "tooltip": "",
        "x": 530,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "83f6d1dd.f33b8",
        "type": "mqtt in",
        "z": "52746a71.334bd4",
        "name": "Okno_kuchyne",
        "topic": "home/kuchyne/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 100,
        "y": 540,
        "wires": [
            [
                "547531d7.9cd1e"
            ]
        ]
    },
    {
        "id": "e228c777.fec8b8",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 460,
        "wires": [
            [
                "ccdb4965.e8e008"
            ]
        ]
    },
    {
        "id": "7ed2003e.997a8",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var drh = msg.payload;\nif(global.get(\"OknoLock\")== false){\n    if(drh == \"on\"){\n        flow.set(\"Window\",\"OPEN\");\n        return msg;\n    }else if(drh == \"off\"){\n        flow.set(\"Window\",\"CLOSED\");\n        return msg;\n    }\n    else if(drh == \"auto\"){\n      flow.set(\"Window\",\"AUTO\");\n      return msg;\n    }\n}else{\n    flow.set(\"Window\",\"CLOSED\");\n        return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 400,
        "wires": [
            [
                "9ad13d73.6edb6"
            ]
        ]
    },
    {
        "id": "2b6edd6f.fd39a2",
        "type": "switch",
        "z": "52746a71.334bd4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 500,
        "wires": [
            [
                "f00f7f4b.77021"
            ],
            [
                "e228c777.fec8b8"
            ]
        ]
    },
    {
        "id": "f00f7f4b.77021",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 520,
        "wires": [
            [
                "87af8f3e.4dc01"
            ]
        ]
    },
    {
        "id": "ab9fd6e2.5092b8",
        "type": "join",
        "z": "52746a71.334bd4",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1350,
        "y": 480,
        "wires": [
            [
                "d59e7d1c.48542"
            ]
        ]
    },
    {
        "id": "d59e7d1c.48542",
        "type": "debug",
        "z": "52746a71.334bd4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1710,
        "y": 480,
        "wires": []
    },
    {
        "id": "ccdb4965.e8e008",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 460,
        "wires": [
            [
                "ab9fd6e2.5092b8",
                "4918e16e.9c4d"
            ]
        ]
    },
    {
        "id": "87af8f3e.4dc01",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 520,
        "wires": [
            [
                "ab9fd6e2.5092b8",
                "4918e16e.9c4d"
            ]
        ]
    },
    {
        "id": "547531d7.9cd1e",
        "type": "switch",
        "z": "52746a71.334bd4",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/kuchyne/okno",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/kuchyne/teplota",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/kuchyne/stav",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 330,
        "y": 620,
        "wires": [
            [
                "7ed2003e.997a8"
            ],
            [
                "4318c687.ebf328"
            ],
            [
                "e613de4f.05509"
            ]
        ]
    },
    {
        "id": "4318c687.ebf328",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Temperature",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 580,
        "wires": [
            [
                "ab9fd6e2.5092b8",
                "2b6023e1.40ebfc"
            ]
        ]
    },
    {
        "id": "e613de4f.05509",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "State",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 640,
        "wires": [
            [
                "ab9fd6e2.5092b8"
            ]
        ]
    },
    {
        "id": "4918e16e.9c4d",
        "type": "ui_text",
        "z": "52746a71.334bd4",
        "group": "a1f4275a.077578",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Window state",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1520,
        "y": 280,
        "wires": []
    },
    {
        "id": "992da24f.a86b4",
        "type": "mqtt out",
        "z": "52746a71.334bd4",
        "name": "Kurenie_kuchyne",
        "topic": "home/kuchyne/kurenie",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1190,
        "y": 1260,
        "wires": []
    },
    {
        "id": "2b6023e1.40ebfc",
        "type": "ui_gauge",
        "z": "52746a71.334bd4",
        "name": "",
        "group": "72b45707.294b78",
        "order": 6,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Temperature",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "colors": [
            "#00adce",
            "#00c590",
            "#c2362c"
        ],
        "seg1": "18",
        "seg2": "24",
        "x": 1610,
        "y": 640,
        "wires": []
    },
    {
        "id": "75a1bbe5.e584d4",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "72b45707.294b78",
        "name": "Kuchyne_template_1",
        "order": 1,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1200,
        "wires": [
            [
                "479b508.72949b",
                "d376208a.2466a"
            ]
        ]
    },
    {
        "id": "48f1b81c.65d1f8",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "72b45707.294b78",
        "name": "Kuchyne_template_2",
        "order": 2,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1260,
        "wires": [
            [
                "479b508.72949b",
                "d376208a.2466a"
            ]
        ]
    },
    {
        "id": "cf33c9e4.f87578",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "72b45707.294b78",
        "name": "Kuchyne_template_3",
        "order": 3,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1320,
        "wires": [
            [
                "479b508.72949b",
                "d376208a.2466a"
            ]
        ]
    },
    {
        "id": "479b508.72949b",
        "type": "ui_led",
        "z": "52746a71.334bd4",
        "order": 5,
        "group": "72b45707.294b78",
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 130,
        "y": 1260,
        "wires": []
    },
    {
        "id": "d376208a.2466a",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = true;\n    }else if(drh == \"off\"){\n        msg.payload = false;\n    }\n    else if(drh == \"auto\"){\n        msg.payload = \"auto\";\n    }\n    return msg;\n}else{\n\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 1280,
        "wires": [
            [
                "ecb1440a.c20908"
            ]
        ]
    },
    {
        "id": "ecb1440a.c20908",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var drh = msg.payload;\n    if(drh == \"auto\"){\n        msg.payload = \"auto\";\n        return msg;\n    }else{\n        return msg;\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 920,
        "y": 1280,
        "wires": [
            [
                "992da24f.a86b4"
            ]
        ]
    },
    {
        "id": "e9a74d55.9c87a",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "a1f4275a.077578",
        "name": "Kuchyne_template_3",
        "order": 3,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    Close\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 360,
        "wires": [
            [
                "7ed2003e.997a8",
                "2617696e.e68736"
            ]
        ]
    },
    {
        "id": "ffd9ed22.69347",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "a1f4275a.077578",
        "name": "Kuchyne_template_2",
        "order": 2,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 300,
        "wires": [
            [
                "7ed2003e.997a8",
                "2617696e.e68736"
            ]
        ]
    },
    {
        "id": "6ec8838e.c1e70c",
        "type": "ui_template",
        "z": "52746a71.334bd4",
        "group": "a1f4275a.077578",
        "name": "Kuchyne_template_1",
        "order": 1,
        "width": 2,
        "height": 1,
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    Open\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 240,
        "wires": [
            [
                "7ed2003e.997a8",
                "2617696e.e68736"
            ]
        ]
    },
    {
        "id": "2617696e.e68736",
        "type": "ui_led",
        "z": "52746a71.334bd4",
        "order": 5,
        "group": "a1f4275a.077578",
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 510,
        "y": 220,
        "wires": []
    },
    {
        "id": "b2086262.6aff1",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var teplo = msg.payload;\nif(teplo > 24){\n   flow.set(\"Stav\",\"hot\");\n}else if(teplo < 18){\n   flow.set(\"Stav\",\"cold\");\n}else {\n    flow.set(\"Stav\",\"OK\");\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "8ddad825.d6a2a8",
        "type": "mqtt in",
        "z": "52746a71.334bd4",
        "name": "Teplota_kuchyne",
        "topic": "home/kuchyne/stav",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 280,
        "y": 860,
        "wires": [
            [
                "b2086262.6aff1",
                "5a723f22.0c38b"
            ]
        ]
    },
    {
        "id": "7a95aebd.5b2dc",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Ovladanie okna v kuchyni",
        "info": "",
        "x": 430,
        "y": 100,
        "wires": []
    },
    {
        "id": "8dfbf136.97008",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Ovladanie teploty v kuchyni",
        "info": "",
        "x": 330,
        "y": 1140,
        "wires": []
    },
    {
        "id": "e0630bb.d905ef8",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Funckia na zisťovanie stavu teploty",
        "info": "",
        "x": 420,
        "y": 940,
        "wires": []
    },
    {
        "id": "9ad13d73.6edb6",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var pom = msg.payload;\nif(flow.get(\"Window\")==\"OPEN\"){\n    msg.payload = \"true\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"CLOSED\"){\n    msg.payload = \"false\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"AUTO\"){\n     if(flow.get(\"Stav\") == \"hot\"){\n        msg.payload = \"true\";\n        return msg;\n        \n    }\n     if(flow.get(\"Stav\") == \"cold\"){\n        msg.payload = \"false\";\n        return msg;\n        \n    }\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 680,
        "y": 400,
        "wires": [
            [
                "2b6edd6f.fd39a2"
            ]
        ]
    },
    {
        "id": "5a723f22.0c38b",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var teplo = msg.payload;\nif(flow.get(\"Window\")==\"AUTO\"){\nif(teplo > 24){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}else if(teplo < 18){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 720,
        "wires": [
            [
                "ffd9ed22.69347"
            ]
        ]
    },
    {
        "id": "9d2b797e.caa298",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Otvaranie okna",
        "info": "",
        "x": 1520,
        "y": 200,
        "wires": []
    },
    {
        "id": "10c558a5.7f4f17",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Funkcia teploty v kuchyni",
        "info": "",
        "x": 510,
        "y": 1460,
        "wires": []
    },
    {
        "id": "11d2412d.e3675f",
        "type": "mqtt out",
        "z": "52746a71.334bd4",
        "name": "teplota_kuchyne",
        "topic": "home/kuchyne/teplota",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1460,
        "y": 1440,
        "wires": []
    },
    {
        "id": "cc1a5f45.fe689",
        "type": "mqtt in",
        "z": "52746a71.334bd4",
        "name": "Kurenie_kuchyne",
        "topic": "home/kuchyne/kurenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 160,
        "y": 1680,
        "wires": [
            [
                "ad550d2a.fb866"
            ]
        ]
    },
    {
        "id": "f41b23e9.88bed",
        "type": "comment",
        "z": "52746a71.334bd4",
        "name": "Nastavenie auto teploty",
        "info": "",
        "x": 1280,
        "y": 2040,
        "wires": []
    },
    {
        "id": "ad550d2a.fb866",
        "type": "switch",
        "z": "52746a71.334bd4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "auto",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 370,
        "y": 1680,
        "wires": [
            [
                "f00ec548.0192f8"
            ],
            [
                "fea3314f.dbc2d"
            ],
            [
                "31d647fd.712ba8"
            ]
        ]
    },
    {
        "id": "fea3314f.dbc2d",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "Vypnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1740,
        "wires": [
            [
                "8d38f07f.8540e"
            ]
        ]
    },
    {
        "id": "f00ec548.0192f8",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "Zapnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1700,
        "wires": [
            [
                "8d38f07f.8540e"
            ]
        ]
    },
    {
        "id": "42bf5098.e288a",
        "type": "delay",
        "z": "52746a71.334bd4",
        "name": "",
        "pauseType": "queue",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1230,
        "y": 1880,
        "wires": [
            [
                "8d38f07f.8540e"
            ]
        ]
    },
    {
        "id": "8d38f07f.8540e",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "\nif (isNaN(flow.get(\"Teplota\"))){\n     flow.set(\"Teplota\",21);\n}\nif(msg.set == false) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);\n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n}\nif (msg.set == true){\n    if(flow.get(\"Teplota\") < 40) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\nif (msg.set == \"auto\"){\n    if(flow.get(\"Teplota\") < flow.get(\"AutoTemp\")) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n    else {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 1740,
        "wires": [
            [
                "11d2412d.e3675f",
                "42bf5098.e288a",
                "20a52339.76f05c"
            ]
        ]
    },
    {
        "id": "31d647fd.712ba8",
        "type": "change",
        "z": "52746a71.334bd4",
        "name": "Auto_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 1780,
        "wires": [
            [
                "8d38f07f.8540e"
            ]
        ]
    },
    {
        "id": "20a52339.76f05c",
        "type": "mqtt out",
        "z": "52746a71.334bd4",
        "name": "teplota_stav",
        "topic": "home/kuchyne/stav",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1430,
        "y": 1740,
        "wires": []
    },
    {
        "id": "b0dc1f43.ae0a4",
        "type": "ui_numeric",
        "z": "52746a71.334bd4",
        "name": "",
        "label": "Set auto temperature",
        "tooltip": "",
        "group": "72b45707.294b78",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "step": 1,
        "x": 1120,
        "y": 2120,
        "wires": [
            [
                "c20fd4a5.2b31b8"
            ]
        ]
    },
    {
        "id": "c20fd4a5.2b31b8",
        "type": "function",
        "z": "52746a71.334bd4",
        "name": "",
        "func": "var pom = msg.payload;\nflow.set(\"AutoTemp\",pom);\nmsg.payload = flow.get(\"AutoTemp\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1400,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "63c6d42f.f49dec",
        "type": "mqtt in",
        "z": "52746a71.334bd4",
        "name": "Okno_zabezpecenie",
        "topic": "home/okno_zabezpecenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 90,
        "y": 680,
        "wires": [
            [
                "10b0760d.1ebb5a"
            ]
        ]
    },
    {
        "id": "10b0760d.1ebb5a",
        "type": "switch",
        "z": "52746a71.334bd4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 50,
        "y": 440,
        "wires": [
            [
                "6ec8838e.c1e70c",
                "ffd9ed22.69347"
            ],
            [
                "e9a74d55.9c87a"
            ]
        ]
    },
    {
        "id": "356ad9ec.ae7a56",
        "type": "mqtt in",
        "z": "2791d2b9.11e1fe",
        "name": "Okno_obyvacka",
        "topic": "home/obyvacka/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 140,
        "y": 500,
        "wires": [
            [
                "a4b26098.02a1d"
            ]
        ]
    },
    {
        "id": "1e2177b5.318958",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 420,
        "wires": [
            [
                "40f3d9b8.150cb8"
            ]
        ]
    },
    {
        "id": "eafb4d83.76f1a",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var drh = msg.payload;\nif(global.get(\"OknoLock\")== false){\n    if(drh == \"on\"){\n        flow.set(\"Window\",\"OPEN\");\n        return msg;\n    }else if(drh == \"off\"){\n        flow.set(\"Window\",\"CLOSED\");\n        return msg;\n    }\n    else if(drh == \"auto\"){\n      flow.set(\"Window\",\"AUTO\");\n      return msg;\n    }\n}else{\n    flow.set(\"Window\",\"CLOSED\");\n        return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 360,
        "wires": [
            [
                "757d18db.a0e968"
            ]
        ]
    },
    {
        "id": "812d52ec.6cf7c",
        "type": "switch",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 460,
        "wires": [
            [
                "145acd00.0571e3"
            ],
            [
                "1e2177b5.318958"
            ]
        ]
    },
    {
        "id": "145acd00.0571e3",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 480,
        "wires": [
            [
                "af9264a2.707848"
            ]
        ]
    },
    {
        "id": "25295361.97e63c",
        "type": "join",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1390,
        "y": 440,
        "wires": [
            [
                "be71c71e.460e98"
            ]
        ]
    },
    {
        "id": "be71c71e.460e98",
        "type": "debug",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1750,
        "y": 440,
        "wires": []
    },
    {
        "id": "40f3d9b8.150cb8",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 420,
        "wires": [
            [
                "25295361.97e63c",
                "2547b87a.c36c68"
            ]
        ]
    },
    {
        "id": "af9264a2.707848",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 480,
        "wires": [
            [
                "25295361.97e63c",
                "2547b87a.c36c68"
            ]
        ]
    },
    {
        "id": "a4b26098.02a1d",
        "type": "switch",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/obyvacka/okno",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/obyvacka/teplota",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/obyvacka/stav",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 370,
        "y": 580,
        "wires": [
            [
                "eafb4d83.76f1a"
            ],
            [
                "f0b8c1f7.40c83"
            ],
            [
                "e90b2f7a.1a3d1"
            ]
        ]
    },
    {
        "id": "f0b8c1f7.40c83",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Temperature",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 540,
        "wires": [
            [
                "25295361.97e63c",
                "9fac6fca.e7877"
            ]
        ]
    },
    {
        "id": "e90b2f7a.1a3d1",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "State",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 600,
        "wires": [
            [
                "25295361.97e63c"
            ]
        ]
    },
    {
        "id": "2547b87a.c36c68",
        "type": "ui_text",
        "z": "2791d2b9.11e1fe",
        "group": "a6f0b78d.fcd098",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Window state",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1560,
        "y": 240,
        "wires": []
    },
    {
        "id": "5fa87328.695b9c",
        "type": "mqtt out",
        "z": "2791d2b9.11e1fe",
        "name": "Kurenie_obyvacka",
        "topic": "home/obyvacka/kurenie",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1230,
        "y": 1220,
        "wires": []
    },
    {
        "id": "9fac6fca.e7877",
        "type": "ui_gauge",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "group": "16c9ec76.306fb4",
        "order": 8,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Temperature",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "colors": [
            "#00adce",
            "#00c590",
            "#c2362c"
        ],
        "seg1": "18",
        "seg2": "24",
        "x": 1650,
        "y": 600,
        "wires": []
    },
    {
        "id": "b45698e8.f171a8",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "16c9ec76.306fb4",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 360,
        "y": 1160,
        "wires": [
            [
                "c6dce06f.0b688",
                "e205f557.9c70b8"
            ]
        ]
    },
    {
        "id": "7ed3b0aa.d3d1",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "16c9ec76.306fb4",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 360,
        "y": 1220,
        "wires": [
            [
                "c6dce06f.0b688",
                "e205f557.9c70b8"
            ]
        ]
    },
    {
        "id": "8f660a8c.372918",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "16c9ec76.306fb4",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 360,
        "y": 1280,
        "wires": [
            [
                "c6dce06f.0b688",
                "e205f557.9c70b8"
            ]
        ]
    },
    {
        "id": "c6dce06f.0b688",
        "type": "ui_led",
        "z": "2791d2b9.11e1fe",
        "order": 6,
        "group": "16c9ec76.306fb4",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 170,
        "y": 1220,
        "wires": []
    },
    {
        "id": "e205f557.9c70b8",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = true;\n    }else if(drh == \"off\"){\n        msg.payload = false;\n    }\n    else if(drh == \"auto\"){\n        msg.payload = \"auto\";\n    }\n    return msg;\n}else{\n\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 1240,
        "wires": [
            [
                "86c4bb44.b4b398"
            ]
        ]
    },
    {
        "id": "86c4bb44.b4b398",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var drh = msg.payload;\n    if(drh == \"auto\"){\n        msg.payload = \"auto\";\n        return msg;\n    }else{\n        return msg;\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 960,
        "y": 1240,
        "wires": [
            [
                "5fa87328.695b9c"
            ]
        ]
    },
    {
        "id": "b7178e0.549797",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "a6f0b78d.fcd098",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    Close\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 260,
        "y": 320,
        "wires": [
            [
                "91a3c683.a47a58",
                "eafb4d83.76f1a"
            ]
        ]
    },
    {
        "id": "9b0f422d.da7f9",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "a6f0b78d.fcd098",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 260,
        "y": 260,
        "wires": [
            [
                "91a3c683.a47a58",
                "eafb4d83.76f1a"
            ]
        ]
    },
    {
        "id": "4b37e3b7.47eacc",
        "type": "ui_template",
        "z": "2791d2b9.11e1fe",
        "group": "a6f0b78d.fcd098",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    Open\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "91a3c683.a47a58",
                "eafb4d83.76f1a"
            ]
        ]
    },
    {
        "id": "91a3c683.a47a58",
        "type": "ui_led",
        "z": "2791d2b9.11e1fe",
        "order": 6,
        "group": "a6f0b78d.fcd098",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 550,
        "y": 180,
        "wires": []
    },
    {
        "id": "c7ed383b.2af388",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var teplo = msg.payload;\nif(teplo > 24){\n   flow.set(\"Stav\",\"hot\");\n}else if(teplo < 18){\n   flow.set(\"Stav\",\"cold\");\n}else {\n    flow.set(\"Stav\",\"OK\");\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "5356e60a.dd1058",
        "type": "mqtt in",
        "z": "2791d2b9.11e1fe",
        "name": "Teplota_obyvacka",
        "topic": "home/obyvacka/stav",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 330,
        "y": 820,
        "wires": [
            [
                "c7ed383b.2af388",
                "8325955e.16b308"
            ]
        ]
    },
    {
        "id": "1169550c.94198b",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Ovladanie okna v kuchyni",
        "info": "",
        "x": 470,
        "y": 60,
        "wires": []
    },
    {
        "id": "34dfccee.8bde14",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Ovladanie teploty v kuchyni",
        "info": "",
        "x": 370,
        "y": 1100,
        "wires": []
    },
    {
        "id": "b354e12e.117f5",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Funckia na zisťovanie stavu teploty",
        "info": "",
        "x": 460,
        "y": 900,
        "wires": []
    },
    {
        "id": "757d18db.a0e968",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var pom = msg.payload;\nif(flow.get(\"Window\")==\"OPEN\"){\n    msg.payload = \"true\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"CLOSED\"){\n    msg.payload = \"false\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"AUTO\"){\n     if(flow.get(\"Stav\") == \"hot\"){\n        msg.payload = \"true\";\n        return msg;\n        \n    }\n     if(flow.get(\"Stav\") == \"cold\"){\n        msg.payload = \"false\";\n        return msg;\n        \n    }\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 360,
        "wires": [
            [
                "812d52ec.6cf7c"
            ]
        ]
    },
    {
        "id": "8325955e.16b308",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var teplo = msg.payload;\nif(flow.get(\"Window\")==\"AUTO\"){\nif(teplo > 24){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}else if(teplo < 18){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 680,
        "wires": [
            [
                "9b0f422d.da7f9"
            ]
        ]
    },
    {
        "id": "2845b9bd.1258a6",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Otvaranie okna",
        "info": "",
        "x": 1560,
        "y": 160,
        "wires": []
    },
    {
        "id": "5fc7bbe9.efbda4",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Funkcia teploty v kuchyni",
        "info": "",
        "x": 550,
        "y": 1420,
        "wires": []
    },
    {
        "id": "b9bf639c.c0f4d",
        "type": "mqtt out",
        "z": "2791d2b9.11e1fe",
        "name": "teplota_obyvacka",
        "topic": "home/obyvacka/teplota",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1510,
        "y": 1400,
        "wires": []
    },
    {
        "id": "db42067a.9a1828",
        "type": "mqtt in",
        "z": "2791d2b9.11e1fe",
        "name": "Kurenie_obyvacka",
        "topic": "home/obyvacka/kurenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 210,
        "y": 1640,
        "wires": [
            [
                "f9cc1c7e.11971"
            ]
        ]
    },
    {
        "id": "1d8bc8ff.cfacd7",
        "type": "comment",
        "z": "2791d2b9.11e1fe",
        "name": "Nastavenie auto teploty",
        "info": "",
        "x": 1320,
        "y": 2000,
        "wires": []
    },
    {
        "id": "f9cc1c7e.11971",
        "type": "switch",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "auto",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 1640,
        "wires": [
            [
                "6bc7bf66.b87a2"
            ],
            [
                "2119ef8b.9b783"
            ],
            [
                "711915be.fda0ac"
            ]
        ]
    },
    {
        "id": "2119ef8b.9b783",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "Vypnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1700,
        "wires": [
            [
                "7b5938c.cbcabc8"
            ]
        ]
    },
    {
        "id": "6bc7bf66.b87a2",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "Zapnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1660,
        "wires": [
            [
                "7b5938c.cbcabc8"
            ]
        ]
    },
    {
        "id": "a99b8dc6.e2552",
        "type": "delay",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "pauseType": "queue",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1270,
        "y": 1840,
        "wires": [
            [
                "7b5938c.cbcabc8"
            ]
        ]
    },
    {
        "id": "7b5938c.cbcabc8",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "\nif (isNaN(flow.get(\"Teplota\"))){\n     flow.set(\"Teplota\",21);\n}\nif(msg.set == false) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);\n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n}\nif (msg.set == true){\n    if(flow.get(\"Teplota\") < 40) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\nif (msg.set == \"auto\"){\n    if(flow.get(\"Teplota\") < flow.get(\"AutoTemp\")) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n    else {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 1700,
        "wires": [
            [
                "a99b8dc6.e2552",
                "b9bf639c.c0f4d",
                "346dcec.d17c432"
            ]
        ]
    },
    {
        "id": "711915be.fda0ac",
        "type": "change",
        "z": "2791d2b9.11e1fe",
        "name": "Auto_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 1740,
        "wires": [
            [
                "7b5938c.cbcabc8"
            ]
        ]
    },
    {
        "id": "346dcec.d17c432",
        "type": "mqtt out",
        "z": "2791d2b9.11e1fe",
        "name": "teplota_stav",
        "topic": "home/obyvacka/stav",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1510,
        "y": 1700,
        "wires": []
    },
    {
        "id": "6b124833.305e48",
        "type": "ui_numeric",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "label": "Set auto temperature",
        "tooltip": "",
        "group": "16c9ec76.306fb4",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "step": 1,
        "x": 1160,
        "y": 2080,
        "wires": [
            [
                "4ac6ca45.da0e84"
            ]
        ]
    },
    {
        "id": "4ac6ca45.da0e84",
        "type": "function",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "func": "var pom = msg.payload;\nflow.set(\"AutoTemp\",pom);\nmsg.payload = flow.get(\"AutoTemp\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1440,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "dd2fee39.543d2",
        "type": "switch",
        "z": "2791d2b9.11e1fe",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 50,
        "y": 340,
        "wires": [
            [
                "4b37e3b7.47eacc",
                "9b0f422d.da7f9"
            ],
            [
                "b7178e0.549797"
            ]
        ]
    },
    {
        "id": "58fc52d4.f9488c",
        "type": "mqtt in",
        "z": "2791d2b9.11e1fe",
        "name": "Okno_zabezpecenie",
        "topic": "home/okno_zabezpecenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 90,
        "y": 620,
        "wires": [
            [
                "dd2fee39.543d2"
            ]
        ]
    },
    {
        "id": "22bda5c.8f74e5a",
        "type": "debug",
        "z": "593f290a.5ddfb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1730,
        "y": 240,
        "wires": []
    },
    {
        "id": "3645686b.82ba18",
        "type": "mqtt in",
        "z": "593f290a.5ddfb8",
        "name": "Okno_kuchyne",
        "topic": "home/spalen/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 80,
        "y": 460,
        "wires": [
            [
                "e5c6fa46.c5eb58"
            ]
        ]
    },
    {
        "id": "6fff34ad.b87eac",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 380,
        "wires": [
            [
                "5d84b977.b66538"
            ]
        ]
    },
    {
        "id": "a037d7f3.7b1808",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var drh = msg.payload;\nif(global.get(\"OknoLock\")== false){\n    if(drh == \"on\"){\n        flow.set(\"Window\",\"OPEN\");\n        return msg;\n    }else if(drh == \"off\"){\n        flow.set(\"Window\",\"CLOSED\");\n        return msg;\n    }\n    else if(drh == \"auto\"){\n      flow.set(\"Window\",\"AUTO\");\n      return msg;\n    }\n}else{\n    flow.set(\"Window\",\"CLOSED\");\n        return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 320,
        "wires": [
            [
                "f7588fd7.bc8cb"
            ]
        ]
    },
    {
        "id": "373e43f2.b6507c",
        "type": "switch",
        "z": "593f290a.5ddfb8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 420,
        "wires": [
            [
                "5fc05592.3353dc"
            ],
            [
                "6fff34ad.b87eac"
            ]
        ]
    },
    {
        "id": "5fc05592.3353dc",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 440,
        "wires": [
            [
                "9b17f974.bffbf8"
            ]
        ]
    },
    {
        "id": "9ab3e7e5.00d7e8",
        "type": "join",
        "z": "593f290a.5ddfb8",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1330,
        "y": 400,
        "wires": [
            [
                "7cbed974.1d5458"
            ]
        ]
    },
    {
        "id": "7cbed974.1d5458",
        "type": "debug",
        "z": "593f290a.5ddfb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1690,
        "y": 400,
        "wires": []
    },
    {
        "id": "5d84b977.b66538",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 380,
        "wires": [
            [
                "9ab3e7e5.00d7e8",
                "2b9188cc.6a29b8"
            ]
        ]
    },
    {
        "id": "9b17f974.bffbf8",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 440,
        "wires": [
            [
                "9ab3e7e5.00d7e8",
                "2b9188cc.6a29b8"
            ]
        ]
    },
    {
        "id": "e5c6fa46.c5eb58",
        "type": "switch",
        "z": "593f290a.5ddfb8",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/spalen/okno",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/spalen/teplota",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/spalen/stav",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "a037d7f3.7b1808"
            ],
            [
                "e0cfab3c.5c5f08"
            ],
            [
                "ae94d957.8c8048"
            ]
        ]
    },
    {
        "id": "e0cfab3c.5c5f08",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Temperature",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 500,
        "wires": [
            [
                "9ab3e7e5.00d7e8",
                "41e60bd4.ec6784"
            ]
        ]
    },
    {
        "id": "ae94d957.8c8048",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "State",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 560,
        "wires": [
            [
                "9ab3e7e5.00d7e8"
            ]
        ]
    },
    {
        "id": "2b9188cc.6a29b8",
        "type": "ui_text",
        "z": "593f290a.5ddfb8",
        "group": "d840431c.ccd0b",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Window state",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1500,
        "y": 200,
        "wires": []
    },
    {
        "id": "8060f00b.4b654",
        "type": "mqtt out",
        "z": "593f290a.5ddfb8",
        "name": "Kurenie_kuchyne",
        "topic": "home/spalen/kurenie",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1170,
        "y": 1180,
        "wires": []
    },
    {
        "id": "41e60bd4.ec6784",
        "type": "ui_gauge",
        "z": "593f290a.5ddfb8",
        "name": "",
        "group": "366bb639.ed961a",
        "order": 8,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Temperature",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "colors": [
            "#00adce",
            "#00c590",
            "#c2362c"
        ],
        "seg1": "18",
        "seg2": "24",
        "x": 1590,
        "y": 560,
        "wires": []
    },
    {
        "id": "a9e65cd1.17a95",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "366bb639.ed961a",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 1120,
        "wires": [
            [
                "e400ea7a.50b348",
                "e6afaa63.03baa8"
            ]
        ]
    },
    {
        "id": "eac0c205.97019",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "366bb639.ed961a",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 1180,
        "wires": [
            [
                "e400ea7a.50b348",
                "e6afaa63.03baa8"
            ]
        ]
    },
    {
        "id": "33da1ee2.c56912",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "366bb639.ed961a",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 300,
        "y": 1240,
        "wires": [
            [
                "e400ea7a.50b348",
                "e6afaa63.03baa8"
            ]
        ]
    },
    {
        "id": "e400ea7a.50b348",
        "type": "ui_led",
        "z": "593f290a.5ddfb8",
        "order": 6,
        "group": "366bb639.ed961a",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 110,
        "y": 1180,
        "wires": []
    },
    {
        "id": "e6afaa63.03baa8",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = true;\n    }else if(drh == \"off\"){\n        msg.payload = false;\n    }\n    else if(drh == \"auto\"){\n        msg.payload = \"auto\";\n    }\n    return msg;\n}else{\n\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 1200,
        "wires": [
            [
                "5c1f86be.057008"
            ]
        ]
    },
    {
        "id": "5c1f86be.057008",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var drh = msg.payload;\n    if(drh == \"auto\"){\n        msg.payload = \"auto\";\n        return msg;\n    }else{\n        return msg;\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 900,
        "y": 1200,
        "wires": [
            [
                "8060f00b.4b654"
            ]
        ]
    },
    {
        "id": "7ccb978d.7b0098",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "d840431c.ccd0b",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    Close\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 200,
        "y": 280,
        "wires": [
            [
                "a037d7f3.7b1808",
                "b49e2d58.faa3"
            ]
        ]
    },
    {
        "id": "8532434c.4751d",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "d840431c.ccd0b",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 200,
        "y": 220,
        "wires": [
            [
                "a037d7f3.7b1808",
                "b49e2d58.faa3"
            ]
        ]
    },
    {
        "id": "9dfbc2c8.66d9e",
        "type": "ui_template",
        "z": "593f290a.5ddfb8",
        "group": "d840431c.ccd0b",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    Open\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "a037d7f3.7b1808",
                "b49e2d58.faa3"
            ]
        ]
    },
    {
        "id": "b49e2d58.faa3",
        "type": "ui_led",
        "z": "593f290a.5ddfb8",
        "order": 6,
        "group": "d840431c.ccd0b",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 490,
        "y": 140,
        "wires": []
    },
    {
        "id": "b058f732.c9bf78",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var teplo = msg.payload;\nif(teplo > 24){\n   flow.set(\"Stav\",\"hot\");\n}else if(teplo < 18){\n   flow.set(\"Stav\",\"cold\");\n}else {\n    flow.set(\"Stav\",\"OK\");\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "8232630e.6743f",
        "type": "mqtt in",
        "z": "593f290a.5ddfb8",
        "name": "Teplota_kuchyne",
        "topic": "home/spalen/stav",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 260,
        "y": 780,
        "wires": [
            [
                "b058f732.c9bf78",
                "7823d201.063eec"
            ]
        ]
    },
    {
        "id": "5f2fdfaf.7a044",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Ovladanie okna",
        "info": "",
        "x": 380,
        "y": 20,
        "wires": []
    },
    {
        "id": "93c52394.da177",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Ovladanie teploty",
        "info": "",
        "x": 280,
        "y": 1060,
        "wires": []
    },
    {
        "id": "8f445087.ce518",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Funckia na zisťovanie stavu teploty",
        "info": "",
        "x": 400,
        "y": 860,
        "wires": []
    },
    {
        "id": "f7588fd7.bc8cb",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var pom = msg.payload;\nif(flow.get(\"Window\")==\"OPEN\"){\n    msg.payload = \"true\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"CLOSED\"){\n    msg.payload = \"false\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"AUTO\"){\n     if(flow.get(\"Stav\") == \"hot\"){\n        msg.payload = \"true\";\n        return msg;\n        \n    }\n     if(flow.get(\"Stav\") == \"cold\"){\n        msg.payload = \"false\";\n        return msg;\n        \n    }\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 320,
        "wires": [
            [
                "373e43f2.b6507c"
            ]
        ]
    },
    {
        "id": "7823d201.063eec",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var teplo = msg.payload;\nif(flow.get(\"Window\")==\"AUTO\"){\nif(teplo > 24){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}else if(teplo < 18){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 400,
        "y": 640,
        "wires": [
            [
                "8532434c.4751d"
            ]
        ]
    },
    {
        "id": "fe3c3ee2.900ce",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Otvaranie okna",
        "info": "",
        "x": 1500,
        "y": 120,
        "wires": []
    },
    {
        "id": "2e824952.0d4ab6",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Funkcia teploty ",
        "info": "",
        "x": 460,
        "y": 1380,
        "wires": []
    },
    {
        "id": "5fd6ed1f.720f04",
        "type": "mqtt out",
        "z": "593f290a.5ddfb8",
        "name": "teplota_kuchyne",
        "topic": "home/spalen/teplota",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1420,
        "y": 1360,
        "wires": []
    },
    {
        "id": "ae8029bf.faea68",
        "type": "mqtt in",
        "z": "593f290a.5ddfb8",
        "name": "Kurenie_kuchyne",
        "topic": "home/spalen/kurenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 140,
        "y": 1600,
        "wires": [
            [
                "ec4faba4.eb0828"
            ]
        ]
    },
    {
        "id": "90a436c4.547188",
        "type": "comment",
        "z": "593f290a.5ddfb8",
        "name": "Nastavenie auto teploty",
        "info": "",
        "x": 1260,
        "y": 1960,
        "wires": []
    },
    {
        "id": "ec4faba4.eb0828",
        "type": "switch",
        "z": "593f290a.5ddfb8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "auto",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 350,
        "y": 1600,
        "wires": [
            [
                "7b14f4fb.5aadec"
            ],
            [
                "ea31bd2d.ca0a4"
            ],
            [
                "c41b2c0.3cb0fd8"
            ]
        ]
    },
    {
        "id": "ea31bd2d.ca0a4",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "Vypnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1660,
        "wires": [
            [
                "fd485451.e5afe8"
            ]
        ]
    },
    {
        "id": "7b14f4fb.5aadec",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "Zapnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1620,
        "wires": [
            [
                "fd485451.e5afe8"
            ]
        ]
    },
    {
        "id": "aeadb67f.62c088",
        "type": "delay",
        "z": "593f290a.5ddfb8",
        "name": "",
        "pauseType": "queue",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1210,
        "y": 1800,
        "wires": [
            [
                "fd485451.e5afe8"
            ]
        ]
    },
    {
        "id": "fd485451.e5afe8",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "\nif (isNaN(flow.get(\"Teplota\"))){\n     flow.set(\"Teplota\",21);\n}\nif(msg.set == false) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);\n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n}\nif (msg.set == true){\n    if(flow.get(\"Teplota\") < 40) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\nif (msg.set == \"auto\"){\n    if(flow.get(\"Teplota\") < flow.get(\"AutoTemp\")) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n    else {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 1660,
        "wires": [
            [
                "5fd6ed1f.720f04",
                "aeadb67f.62c088",
                "7f67371d.5deba8"
            ]
        ]
    },
    {
        "id": "c41b2c0.3cb0fd8",
        "type": "change",
        "z": "593f290a.5ddfb8",
        "name": "Auto_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1700,
        "wires": [
            [
                "fd485451.e5afe8"
            ]
        ]
    },
    {
        "id": "7f67371d.5deba8",
        "type": "mqtt out",
        "z": "593f290a.5ddfb8",
        "name": "teplota_stav",
        "topic": "home/spalen/stav",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1450,
        "y": 1660,
        "wires": []
    },
    {
        "id": "e3ff4121.cffad",
        "type": "ui_numeric",
        "z": "593f290a.5ddfb8",
        "name": "",
        "label": "Set auto temperature",
        "tooltip": "",
        "group": "366bb639.ed961a",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "step": 1,
        "x": 1100,
        "y": 2040,
        "wires": [
            [
                "a66ad676.3f7198"
            ]
        ]
    },
    {
        "id": "a66ad676.3f7198",
        "type": "function",
        "z": "593f290a.5ddfb8",
        "name": "",
        "func": "var pom = msg.payload;\nflow.set(\"AutoTemp\",pom);\nmsg.payload = flow.get(\"AutoTemp\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1380,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "890c641a.3627a8",
        "type": "switch",
        "z": "593f290a.5ddfb8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 50,
        "y": 340,
        "wires": [
            [
                "9dfbc2c8.66d9e",
                "8532434c.4751d"
            ],
            [
                "7ccb978d.7b0098"
            ]
        ]
    },
    {
        "id": "5630ef10.2b314",
        "type": "mqtt in",
        "z": "593f290a.5ddfb8",
        "name": "Okno_zabezpecenie",
        "topic": "home/okno_zabezpecenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 90,
        "y": 580,
        "wires": [
            [
                "890c641a.3627a8"
            ]
        ]
    },
    {
        "id": "265d62ec.2e594e",
        "type": "debug",
        "z": "d681427a.a92b4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1730,
        "y": 280,
        "wires": []
    },
    {
        "id": "281fd9d2.539c86",
        "type": "mqtt in",
        "z": "d681427a.a92b4",
        "name": "Okno_kuchyne",
        "topic": "home/kupelna/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 160,
        "y": 440,
        "wires": [
            [
                "ed98a905.d554d8"
            ]
        ]
    },
    {
        "id": "5fa4a25.473125c",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 380,
        "wires": [
            [
                "2817ad6c.3b7f22"
            ]
        ]
    },
    {
        "id": "1804466c.ab828a",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var drh = msg.payload;\nif(global.get(\"OknoLock\")== false){\n    if(drh == \"on\"){\n        flow.set(\"Window\",\"OPEN\");\n        return msg;\n    }else if(drh == \"off\"){\n        flow.set(\"Window\",\"CLOSED\");\n        return msg;\n    }\n    else if(drh == \"auto\"){\n      flow.set(\"Window\",\"AUTO\");\n      return msg;\n    }\n}else{\n    flow.set(\"Window\",\"CLOSED\");\n        return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 320,
        "wires": [
            [
                "5a707716.238358"
            ]
        ]
    },
    {
        "id": "9adf310e.a7884",
        "type": "switch",
        "z": "d681427a.a92b4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 420,
        "wires": [
            [
                "3a0c2b72.742e84"
            ],
            [
                "5fa4a25.473125c"
            ]
        ]
    },
    {
        "id": "3a0c2b72.742e84",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 440,
        "wires": [
            [
                "476e4508.779c9c"
            ]
        ]
    },
    {
        "id": "710027a4.35db48",
        "type": "join",
        "z": "d681427a.a92b4",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1350,
        "y": 400,
        "wires": [
            [
                "eca60f4f.67a5f"
            ]
        ]
    },
    {
        "id": "eca60f4f.67a5f",
        "type": "debug",
        "z": "d681427a.a92b4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1710,
        "y": 400,
        "wires": []
    },
    {
        "id": "2817ad6c.3b7f22",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 380,
        "wires": [
            [
                "710027a4.35db48",
                "e869dac3.9f9598"
            ]
        ]
    },
    {
        "id": "476e4508.779c9c",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Window",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 440,
        "wires": [
            [
                "710027a4.35db48",
                "e869dac3.9f9598"
            ]
        ]
    },
    {
        "id": "ed98a905.d554d8",
        "type": "switch",
        "z": "d681427a.a92b4",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home/kupelna/okno",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/kupelna/teplota",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home/kupelna/stav",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 330,
        "y": 540,
        "wires": [
            [
                "1804466c.ab828a"
            ],
            [
                "9c70f47.59a4f08"
            ],
            [
                "806d6ec8.e507d"
            ]
        ]
    },
    {
        "id": "9c70f47.59a4f08",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Temperature",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 500,
        "wires": [
            [
                "710027a4.35db48",
                "e3429e5d.95df4"
            ]
        ]
    },
    {
        "id": "806d6ec8.e507d",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "State",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 560,
        "wires": [
            [
                "710027a4.35db48"
            ]
        ]
    },
    {
        "id": "e869dac3.9f9598",
        "type": "ui_text",
        "z": "d681427a.a92b4",
        "group": "392476b1.08707a",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Window state",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1520,
        "y": 200,
        "wires": []
    },
    {
        "id": "2597b29c.00cd9e",
        "type": "mqtt out",
        "z": "d681427a.a92b4",
        "name": "Kurenie_kuchyne",
        "topic": "home/kupelna/kurenie",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1190,
        "y": 1180,
        "wires": []
    },
    {
        "id": "e3429e5d.95df4",
        "type": "ui_gauge",
        "z": "d681427a.a92b4",
        "name": "",
        "group": "f992db80.3965e8",
        "order": 8,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Temperature",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "colors": [
            "#00adce",
            "#00c590",
            "#c2362c"
        ],
        "seg1": "18",
        "seg2": "24",
        "x": 1510,
        "y": 560,
        "wires": []
    },
    {
        "id": "41819b0f.682794",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "f992db80.3965e8",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    ON\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1120,
        "wires": [
            [
                "67f49d32.db48b4",
                "59b52169.8a869"
            ]
        ]
    },
    {
        "id": "74e6abac.d71864",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "f992db80.3965e8",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1180,
        "wires": [
            [
                "67f49d32.db48b4",
                "59b52169.8a869"
            ]
        ]
    },
    {
        "id": "8a33d77f.1fc708",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "f992db80.3965e8",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    OFF\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 320,
        "y": 1240,
        "wires": [
            [
                "67f49d32.db48b4",
                "59b52169.8a869"
            ]
        ]
    },
    {
        "id": "67f49d32.db48b4",
        "type": "ui_led",
        "z": "d681427a.a92b4",
        "order": 6,
        "group": "f992db80.3965e8",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 130,
        "y": 1180,
        "wires": []
    },
    {
        "id": "59b52169.8a869",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var drh = msg.payload;\nif(msg.topic == \"dsh\"){\n    if(drh == \"on\"){\n        msg.payload = true;\n    }else if(drh == \"off\"){\n        msg.payload = false;\n    }\n    else if(drh == \"auto\"){\n        msg.payload = \"auto\";\n    }\n    return msg;\n}else{\n\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 1200,
        "wires": [
            [
                "a6dddf31.921ad"
            ]
        ]
    },
    {
        "id": "a6dddf31.921ad",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var drh = msg.payload;\n    if(drh == \"auto\"){\n        msg.payload = \"auto\";\n        return msg;\n    }else{\n        return msg;\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 920,
        "y": 1200,
        "wires": [
            [
                "2597b29c.00cd9e"
            ]
        ]
    },
    {
        "id": "aaa32aab.ecb3a8",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "392476b1.08707a",
        "name": "Kuchyne_template_3",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n    \n.nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  .highlight {\n    background-color: yellow !important;\n}\n \n.images {\n    background-size: 100% 100%;\n    background-repeat: no-repeat; \n    }\n     \n.highlight-image {\n    background-image: var(--myHighlight) !important;\n}\n</style>\n<md-button class=\"vibrate filled touched rounded\"\n   style=\"background-color:#C9342F\"\n    ng-click=\"send({payload: 'off', topic: 'dsh'})\"> \n    Close\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "1804466c.ab828a",
                "7e0e875f.740798"
            ]
        ]
    },
    {
        "id": "17e32238.23c04e",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "392476b1.08707a",
        "name": "Kuchyne_template_2",
        "order": 4,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n  \n.highlight {\n    background-color: yellow !important;\n}\n \n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#61BCE1\"\n    ng-click=\"send({payload: 'auto', topic: 'dsh'})\"> \n    AUTO\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 220,
        "wires": [
            [
                "1804466c.ab828a",
                "7e0e875f.740798"
            ]
        ]
    },
    {
        "id": "c694c6f7.e28cc8",
        "type": "ui_template",
        "z": "d681427a.a92b4",
        "group": "392476b1.08707a",
        "name": "Kuchyne_template_1",
        "order": 3,
        "width": "2",
        "height": "1",
        "format": "<style>\n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n   \n.filled { \n      height: 100% !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      //background-color: transparent !important;\n  }\n   \n.rounded {\n    border-radius: 10px 10px 10px 10px;\n    font-size: 18px;\n}\n</style>\n<md-button class=\"filled rounded\"\n   style=\"background-color:#30833A\"\n    ng-click=\"send({payload: 'on', topic: 'dsh'})\"> \n    Open\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 220,
        "y": 160,
        "wires": [
            [
                "1804466c.ab828a",
                "7e0e875f.740798"
            ]
        ]
    },
    {
        "id": "7e0e875f.740798",
        "type": "ui_led",
        "z": "d681427a.a92b4",
        "order": 6,
        "group": "392476b1.08707a",
        "width": "0",
        "height": "0",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "off",
                "valueType": "str"
            },
            {
                "color": "#33dbdb",
                "value": "auto",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "on",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "Kuchyne_led",
        "x": 510,
        "y": 140,
        "wires": []
    },
    {
        "id": "a739a83f.a031d8",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var teplo = msg.payload;\nif(teplo > 24){\n   flow.set(\"Stav\",\"hot\");\n}else if(teplo < 18){\n   flow.set(\"Stav\",\"cold\");\n}else {\n    flow.set(\"Stav\",\"OK\");\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "a038fcf2.7f454",
        "type": "mqtt in",
        "z": "d681427a.a92b4",
        "name": "Teplota_kuchyne",
        "topic": "home/kupelna/stav",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 280,
        "y": 780,
        "wires": [
            [
                "a739a83f.a031d8",
                "551223fe.62057c"
            ]
        ]
    },
    {
        "id": "b7c71b61.d4d0e8",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Ovladanie okna",
        "info": "",
        "x": 400,
        "y": 20,
        "wires": []
    },
    {
        "id": "21776c6d.ef88e4",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Ovladanie teploty ",
        "info": "",
        "x": 300,
        "y": 1060,
        "wires": []
    },
    {
        "id": "f1b98ace.21b398",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Funckia na zisťovanie stavu teploty",
        "info": "",
        "x": 420,
        "y": 860,
        "wires": []
    },
    {
        "id": "5a707716.238358",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var pom = msg.payload;\nif(flow.get(\"Window\")==\"OPEN\"){\n    msg.payload = \"true\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"CLOSED\"){\n    msg.payload = \"false\";\n    return msg;\n}\nif(flow.get(\"Window\")==\"AUTO\"){\n     if(flow.get(\"Stav\") == \"hot\"){\n        msg.payload = \"true\";\n        return msg;\n        \n    }\n     if(flow.get(\"Stav\") == \"cold\"){\n        msg.payload = \"false\";\n        return msg;\n        \n    }\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 680,
        "y": 320,
        "wires": [
            [
                "9adf310e.a7884"
            ]
        ]
    },
    {
        "id": "551223fe.62057c",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var teplo = msg.payload;\nif(flow.get(\"Window\")==\"AUTO\"){\nif(teplo > 24){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}else if(teplo < 18){\n   teplo = \"auto\"\n   msg.payload = teplo;\n   return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 640,
        "wires": [
            [
                "17e32238.23c04e"
            ]
        ]
    },
    {
        "id": "1ef03624.05da9a",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Otvaranie okna",
        "info": "",
        "x": 1520,
        "y": 120,
        "wires": []
    },
    {
        "id": "66ba525b.4a0a8c",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Funkcia teploty ",
        "info": "",
        "x": 480,
        "y": 1380,
        "wires": []
    },
    {
        "id": "533f0457.97791c",
        "type": "mqtt out",
        "z": "d681427a.a92b4",
        "name": "teplota_kuchyne",
        "topic": "home/kupelna/teplota",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1460,
        "y": 1360,
        "wires": []
    },
    {
        "id": "6b35a4bd.f69b1c",
        "type": "mqtt in",
        "z": "d681427a.a92b4",
        "name": "Kurenie_kuchyne",
        "topic": "home/kupelna/kurenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 160,
        "y": 1600,
        "wires": [
            [
                "fc8d124e.63a71"
            ]
        ]
    },
    {
        "id": "b088c111.5473",
        "type": "comment",
        "z": "d681427a.a92b4",
        "name": "Nastavenie auto teploty",
        "info": "",
        "x": 1280,
        "y": 1960,
        "wires": []
    },
    {
        "id": "fc8d124e.63a71",
        "type": "switch",
        "z": "d681427a.a92b4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "auto",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 370,
        "y": 1600,
        "wires": [
            [
                "5c1645a9.61e10c"
            ],
            [
                "74c5e872.0b7438"
            ],
            [
                "86d75f0.6994da"
            ]
        ]
    },
    {
        "id": "74c5e872.0b7438",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "Vypnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1660,
        "wires": [
            [
                "fc68b547.885a18"
            ]
        ]
    },
    {
        "id": "5c1645a9.61e10c",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "Zapnut_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1620,
        "wires": [
            [
                "fc68b547.885a18"
            ]
        ]
    },
    {
        "id": "3bcbe57.da5321a",
        "type": "delay",
        "z": "d681427a.a92b4",
        "name": "",
        "pauseType": "queue",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1230,
        "y": 1800,
        "wires": [
            [
                "fc68b547.885a18"
            ]
        ]
    },
    {
        "id": "fc68b547.885a18",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "\nif (isNaN(flow.get(\"Teplota\"))){\n     flow.set(\"Teplota\",21);\n}\nif(msg.set == false) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);\n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n}\nif (msg.set == true){\n    if(flow.get(\"Teplota\") < 40) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\nif (msg.set == \"auto\"){\n    if(flow.get(\"Teplota\") < flow.get(\"AutoTemp\")) {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") + 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n    else {\n    flow.set(\"Teplota\",flow.get(\"Teplota\") - 1);    \n    msg.payload = flow.get(\"Teplota\");\n    return msg;\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 1660,
        "wires": [
            [
                "533f0457.97791c",
                "3bcbe57.da5321a",
                "db469e5e.ab034"
            ]
        ]
    },
    {
        "id": "86d75f0.6994da",
        "type": "change",
        "z": "d681427a.a92b4",
        "name": "Auto_kurenie",
        "rules": [
            {
                "t": "set",
                "p": "set",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 1700,
        "wires": [
            [
                "fc68b547.885a18"
            ]
        ]
    },
    {
        "id": "db469e5e.ab034",
        "type": "mqtt out",
        "z": "d681427a.a92b4",
        "name": "teplota_stav",
        "topic": "home/kupelna/stav",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1470,
        "y": 1660,
        "wires": []
    },
    {
        "id": "8df230be.25732",
        "type": "ui_numeric",
        "z": "d681427a.a92b4",
        "name": "",
        "label": "Set auto temperature",
        "tooltip": "",
        "group": "f992db80.3965e8",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "35",
        "step": 1,
        "x": 1120,
        "y": 2040,
        "wires": [
            [
                "fdf73356.89766"
            ]
        ]
    },
    {
        "id": "fdf73356.89766",
        "type": "function",
        "z": "d681427a.a92b4",
        "name": "",
        "func": "var pom = msg.payload;\nflow.set(\"AutoTemp\",pom);\nmsg.payload = flow.get(\"AutoTemp\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1400,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "50aeb51f.d3f44c",
        "type": "switch",
        "z": "d681427a.a92b4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 50,
        "y": 380,
        "wires": [
            [
                "17e32238.23c04e",
                "c694c6f7.e28cc8"
            ],
            [
                "aaa32aab.ecb3a8"
            ]
        ]
    },
    {
        "id": "cb963d9a.45336",
        "type": "mqtt in",
        "z": "d681427a.a92b4",
        "name": "Okno_zabezpecenie",
        "topic": "home/okno_zabezpecenie",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 90,
        "y": 620,
        "wires": [
            [
                "50aeb51f.d3f44c"
            ]
        ]
    },
    {
        "id": "92664af6.f6d558",
        "type": "mqtt out",
        "z": "644c2903.eebd18",
        "name": "",
        "topic": "teplomer",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 1120,
        "y": 280,
        "wires": []
    },
    {
        "id": "24a6083d.2d21b8",
        "type": "mqtt out",
        "z": "644c2903.eebd18",
        "name": "",
        "topic": "detektor_pohybu",
        "qos": "0",
        "retain": "",
        "broker": "30f5ccb2.518334",
        "x": 500,
        "y": 380,
        "wires": []
    },
    {
        "id": "5ea379f5.a3b7a8",
        "type": "inject",
        "z": "644c2903.eebd18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 200,
        "y": 380,
        "wires": [
            [
                "24a6083d.2d21b8"
            ]
        ]
    },
    {
        "id": "902e290a.30ee68",
        "type": "http request",
        "z": "644c2903.eebd18",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://api.openweathermap.org/data/2.5/onecall?lat=49.195221&lon=16.60796&exclude=minutely,daily&appid=5a084a971b9dd44a7548538a5b25f744&units=metric",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 410,
        "y": 280,
        "wires": [
            [
                "e834644b.8f15a8"
            ]
        ]
    },
    {
        "id": "8e3fe4e.318f818",
        "type": "inject",
        "z": "644c2903.eebd18",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 280,
        "wires": [
            [
                "902e290a.30ee68"
            ]
        ]
    },
    {
        "id": "2b815b67.6dff24",
        "type": "function",
        "z": "644c2903.eebd18",
        "name": "zaokrouhleni",
        "func": "var cislo = Math.round(msg.payload,0);\nmsg.payload = cislo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 910,
        "y": 280,
        "wires": [
            [
                "92664af6.f6d558"
            ]
        ]
    },
    {
        "id": "1db0827e.86bd4e",
        "type": "inject",
        "z": "644c2903.eebd18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 190,
        "y": 200,
        "wires": [
            [
                "d03f25cc.4d9068"
            ]
        ]
    },
    {
        "id": "d03f25cc.4d9068",
        "type": "change",
        "z": "644c2903.eebd18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "pocet",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e834644b.8f15a8",
        "type": "function",
        "z": "644c2903.eebd18",
        "name": "",
        "func": "var pocet = flow.get(\"pocet\");\nvar vysledek = msg.payload.hourly[pocet].temp;\npocet ++;\nflow.set(\"pocet\",pocet);\nmsg.payload = vysledek;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 280,
        "wires": [
            [
                "2b815b67.6dff24"
            ]
        ]
    },
    {
        "id": "ccf9e5cd.294fa8",
        "type": "mqtt in",
        "z": "f02050ba.d1e71",
        "name": "Subscriber_svetla2",
        "topic": "Svetla",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 1130,
        "y": 100,
        "wires": [
            [
                "41ca1fd4.363aa"
            ]
        ]
    },
    {
        "id": "41ca1fd4.363aa",
        "type": "debug",
        "z": "f02050ba.d1e71",
        "name": "Vystup2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 100,
        "wires": []
    },
    {
        "id": "a8e8bc4c.0d18f",
        "type": "debug",
        "z": "f02050ba.d1e71",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 460,
        "wires": []
    },
    {
        "id": "80840e6d.07ab8",
        "type": "mqtt in",
        "z": "f02050ba.d1e71",
        "name": "",
        "topic": "teplomer",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 280,
        "y": 300,
        "wires": [
            [
                "4f10809b.b1e2d",
                "b0a77f2.529048"
            ]
        ]
    },
    {
        "id": "97ae6a93.7b35a8",
        "type": "mqtt in",
        "z": "f02050ba.d1e71",
        "name": "",
        "topic": "detektor_pohybu",
        "qos": "0",
        "datatype": "auto",
        "broker": "30f5ccb2.518334",
        "inputs": 0,
        "x": 300,
        "y": 700,
        "wires": [
            [
                "8f400d6a.ca8f4"
            ]
        ]
    },
    {
        "id": "e7b2945d.981498",
        "type": "comment",
        "z": "f02050ba.d1e71",
        "name": "Bazén",
        "info": "",
        "x": 270,
        "y": 240,
        "wires": []
    },
    {
        "id": "be24bb9c.b2d608",
        "type": "comment",
        "z": "f02050ba.d1e71",
        "name": "okna skleníku",
        "info": "",
        "x": 290,
        "y": 380,
        "wires": []
    },
    {
        "id": "bcb443ca.87cd9",
        "type": "comment",
        "z": "f02050ba.d1e71",
        "name": "Rozprašovače",
        "info": "",
        "x": 290,
        "y": 640,
        "wires": []
    },
    {
        "id": "4f10809b.b1e2d",
        "type": "function",
        "z": "f02050ba.d1e71",
        "name": "otevírání_oken_skleníku",
        "func": "var teplota = Number(msg.payload);\nvar nastavena_teplota = flow.get(\"teplota_sklenik_vetrani\");\n\nif(teplota>nastavena_teplota){\n    msg.payload = true;   \n}else{\n    msg.payload = false;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 480,
        "wires": [
            [
                "38c984e9.dabddc"
            ]
        ]
    },
    {
        "id": "b0a77f2.529048",
        "type": "function",
        "z": "f02050ba.d1e71",
        "name": "ohřívání_bazénu",
        "func": "var teplota = Number(msg.payload);\nvar nastavena_teplota = flow.get(\"nastavena_teplota_bazenu\");\n\nif(teplota<nastavena_teplota){\n    msg.payload = true;   \n}else{\n    msg.payload = false;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 590,
        "y": 300,
        "wires": [
            [
                "52afb62e.1816d8"
            ]
        ]
    },
    {
        "id": "52afb62e.1816d8",
        "type": "switch",
        "z": "f02050ba.d1e71",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 300,
        "wires": [
            [
                "ef8e736c.67ae7"
            ],
            [
                "a3ce123e.3b459"
            ]
        ]
    },
    {
        "id": "ef8e736c.67ae7",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "ohřívá_se",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Bazén se ohřívá",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 280,
        "wires": [
            [
                "a8e8bc4c.0d18f",
                "aa9e5492.7a8528"
            ]
        ]
    },
    {
        "id": "a3ce123e.3b459",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "neohřívá_se",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Bazén se neohřívá",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 320,
        "wires": [
            [
                "a8e8bc4c.0d18f",
                "aa9e5492.7a8528"
            ]
        ]
    },
    {
        "id": "38c984e9.dabddc",
        "type": "switch",
        "z": "f02050ba.d1e71",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 480,
        "wires": [
            [
                "68b7f7e7.f7a178"
            ],
            [
                "52db0005.f7db5"
            ]
        ]
    },
    {
        "id": "68b7f7e7.f7a178",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "otevřená_okna",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Okna skleníku jsou otevřená",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 460,
        "wires": [
            [
                "a8e8bc4c.0d18f",
                "be50f99e.52d208"
            ]
        ]
    },
    {
        "id": "52db0005.f7db5",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "zavřená_okna",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Okna skleníku jsou zavřená",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 500,
        "wires": [
            [
                "a8e8bc4c.0d18f",
                "be50f99e.52d208"
            ]
        ]
    },
    {
        "id": "8f400d6a.ca8f4",
        "type": "function",
        "z": "f02050ba.d1e71",
        "name": "ovládání_rozstřikovačů",
        "func": "var D = new Date();\nvar hodiny = D.getHours();\nvar pohyb = msg.payload;\n\nif (hodiny>4 && hodiny<5 || hodiny>20 && hodiny<21){\n    if (pohyb==\"false\"){\n        msg.payload = true;\n    }else{\n        msg.payload = false;   \n    }\n    \n}else{\n    msg.payload = false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 600,
        "y": 700,
        "wires": [
            [
                "a7943ef4.7726a"
            ]
        ]
    },
    {
        "id": "a7943ef4.7726a",
        "type": "switch",
        "z": "f02050ba.d1e71",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 700,
        "wires": [
            [
                "f091edb0.9b02e"
            ],
            [
                "34a5ecc8.0b8284"
            ]
        ]
    },
    {
        "id": "f091edb0.9b02e",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "rozstřikovače_zapnuto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "rozstřikovače jsou zapnuté",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 680,
        "wires": [
            [
                "a8e8bc4c.0d18f"
            ]
        ]
    },
    {
        "id": "34a5ecc8.0b8284",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "rozstřikovače_vypnuto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "rozstřikovače jsou vypnuté",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 720,
        "wires": [
            [
                "a8e8bc4c.0d18f"
            ]
        ]
    },
    {
        "id": "8a5c989d.479b58",
        "type": "ui_numeric",
        "z": "f02050ba.d1e71",
        "name": "",
        "label": "minimální teplota bazénu",
        "tooltip": "",
        "group": "4a75fe71.2c326",
        "order": 1,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "37",
        "step": 1,
        "x": 390,
        "y": 60,
        "wires": [
            [
                "384ab0aa.cdc58"
            ]
        ]
    },
    {
        "id": "e71516b3.f16648",
        "type": "ui_numeric",
        "z": "f02050ba.d1e71",
        "name": "",
        "label": "teplota pro otevření oken",
        "tooltip": "",
        "group": "4e0d782d.024148",
        "order": 1,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "step": 1,
        "x": 390,
        "y": 120,
        "wires": [
            [
                "dbc60409.57d558"
            ]
        ]
    },
    {
        "id": "384ab0aa.cdc58",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "nastavena_teplota_bazenu",
        "rules": [
            {
                "t": "set",
                "p": "nastavena_teplota_bazenu",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "dbc60409.57d558",
        "type": "change",
        "z": "f02050ba.d1e71",
        "name": "teplota_sklenik_vetrani",
        "rules": [
            {
                "t": "set",
                "p": "teplota_sklenik_vetrani",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "aa9e5492.7a8528",
        "type": "ui_text",
        "z": "f02050ba.d1e71",
        "group": "4a75fe71.2c326",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "stav",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1230,
        "y": 280,
        "wires": []
    },
    {
        "id": "be50f99e.52d208",
        "type": "ui_text",
        "z": "f02050ba.d1e71",
        "group": "4e0d782d.024148",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "stav",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1270,
        "y": 520,
        "wires": []
    }
]